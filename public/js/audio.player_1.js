webpackJsonp([3,53],[function(t,e,n){var i;i=function(){n(19),n(20),n(22),n(25),n(11),n(26),n(27),n(30),n(31)}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(){var t=(n(2),n(3)),e=n(7),i=(n(9),window.MUSIC_GLOBAL.musicPlay),o={init:function(){var n=this;$(document).on("click",".btn-add",function(){var o=$(this),r="";o.hasClass("player-add")?e(!1)?($.each(n.getUserSongList(),function(){r+='<li class="operate-menu-link add-to-songlist" data-id="'+this.songListId+'" title="'+this.songListName.replace(/>/g,"&gt;").replace(/</g,"&lt;")+'">'+this.songListName.replace(/>/g,"&gt;").replace(/</g,"&lt;")+"</li>"}),r+='<li class="operate-menu-link add-songList">添加到新歌单</li>'):r='<li class="operate-menu-link my-songList">我的歌单</li>':e(!1)?(r='<li class="operate-menu-link add-to-player">播放列表</li>',$.each(n.getUserSongList(),function(){r+='<li class="operate-menu-link add-to-songlist" data-id="'+this.songListId+'" title="'+this.songListName.replace(/>/g,"&gt;").replace(/</g,"&lt;")+'">'+this.songListName.replace(/>/g,"&gt;").replace(/</g,"&lt;")+"</li>"}),r+='<li class="operate-menu-link add-songList">添加到新歌单</li>'):r='<li class="operate-menu-link add-to-player">播放列表</li><li class="operate-menu-link my-songList">我的歌单</li>';var a=[],s=[],l="";l=o.attr("data-type");var u=r;switch(l){case"1":a.push(o.attr("data-mid"));break;case"2":a=o.attr("data-id").split("&");break;case"3":$("#js_songlist .songlist-item.on").not(".list-gray").each(function(){a.push($(this).attr("mid"))}),$("#js_songlist .songlist-item.on").each(function(){s.push($(this).attr("mid"))});break;case"4":$("#js_songlist .songlist-item").not(".list-gray").each(function(){a.push($(this).attr("mid"))}),$("#js_songlist .songlist-item.on").each(function(){s.push($(this).attr("mid"))});break;case"5":u='<li class="go-back" type="slide-action">< 返回</li>'+r,a.push(o.attr("data-mid"));break;case"6":a=n.getSonglistSong(o.attr("data-id"),o.attr("data-userid"))}$(".songlist-item").removeClass("active"),o.parents(".songlist-item").addClass("active"),$(".items").removeClass("active"),o.parents(".items").addClass("active"),$(".song-item").removeClass("active"),o.parents(".song-item").addClass("active"),$(".outer-list-item .swiper-slide").removeClass("active"),o.parents(".swiper-slide").addClass("active"),n.showMenu({element:o,content:u,addType:l},function(){$(".add-to-player").click(function(){a.length?i.getPlayUrl(a,!1):s.length?t.tip("咪咕君版权引进中~"):t.tip("请选择要操作的单曲")}),$(".add-to-songlist").click(function(){var e=$(this).attr("data-id");a.length?n.songListSongAction(a,e,"add"):s.length?t.tip("咪咕君版权引进中~"):t.tip("请选择要操作的单曲")}),$(".more-menu .add-songList").data("addList",a),$(".my-songList").click(function(){e()})})}),$(document).click(function(t){t.stopPropagation(),"slide-action"!=$(t.target).attr("type")&&($(".songlist-item").removeClass("active"),$(".items").removeClass("active"),$(".song-item").removeClass("active"),$(".outer-list-item .swiper-slide").removeClass("active"),$(".operate-menu").hide())})},showMenu:function(t,e){var n=t.element,i=t.content,o=$(window).width(),r=n.offset().left,a=n.offset().top,s=$('<div class="operate-menu js-menu-box"></div>'),l=$('<ul class="more-menu"></ul>');l.html(i),s.html(l),$(".operate-menu").hide();var u=r+20,c=a+20,d=130;u+130>o&&(u=r-130),t.addType&&1!=t.addType&&2!=t.addType&&6!=t.addType&&(u=r,c=a+45,d=n.outerWidth()),5==t.addType&&(c=a+45-136,d=121.7),s.css({left:u,top:c,width:d}),$(".js-menu-box").remove(),$(".share-box").remove(),$("body").append(s),s.show(),s.find("ul").slimScroll({height:"270px",alwaysVisible:!1,color:"#919190",opacity:.5,size:"4px"}),"function"==typeof e&&e()},getUserSongList:function(){var t=[];return $.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/getusersonglist",dataType:"json",async:!1}).done(function(e){var n=e.playLists;$.each(n,function(){var e={songListName:this.playListName,songListId:this.playListId};t.push(e)})}).fail(function(){}),t},getSonglistSong:function(e,n){var i=[];return $.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/songlistsong",dataType:"json",async:!1,type:"get",data:{songListId:e,userId:n}}).done(function(t){t.items&&$.each(t.items,function(){this.copyrightMsg&&this.copyrightMsg.hasWalkMan&&this.song.status&&i.push(this.song.musicId)})}).fail(function(){t.tip("获取歌单歌曲失败！")}),i},songListSongAction:function(e,n,i){$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/songlistsongaction",dataType:"json",type:"post",data:{songIds:e,songListId:n,type:i}}).done(function(e){$(".songlist-item").removeClass("active"),$(".items").removeClass("active"),$(".operate-menu").hide(),"000000"===e.returnCode?t.tip("添加成功"):"100000"===e.returnCode?t.tip("添加歌曲已存在，请勿重复添加"):t.tip(e.returnDesc)}).fail(function(){t.tip("添加失败")})}};return o}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(){var t={mobileRegex:/^(1)\d{10}$/,fetchApi:function(t){var t=t||{},e=$.Deferred(),n=e.promise();$.ajax(t).done(function(t,n,i){200===i.status&&4===i.readyState?e.resolve(t):e.reject(t)});return n},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURIComponent(n[2]):null},setCookie:function(t,e,n){var i,o;return i=t+"="+encodeURIComponent(e),n=n||{},n.expires&&(o=new Date((new Date).getTime()+6e4*n.expires*60*24),i+=";expires="+o.toGMTString()),n.path&&(i+=";path="+n.path),n.domain&&(i+=";domain="+n.domain),n.secure&&(i+=";secure"),document.cookie=i},getCookie:function(t){var e,n,i;return n=document.cookie,e=t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(t){return"\\"+t}),i=n.match(new RegExp("(?:^|; )"+e+"=([^;]*)")),i?decodeURIComponent(i[1]):void 0},removeCookie:function(t,e,n){var i,o=this;if(o.getCookie(t))return i=t+"=;expires=Fri, 02-Jan-1970 00:00:00 GMT",e&&(i+=";path="+e),n&&(i+=";domain"+n),document.cookie=i},createTips:function(t){var e='<div id="text-tip"><span>'+t+"</span></div>",n=$("#text-tip");n&&n.remove(),$("body").append(e),setTimeout(function(){var t=$("#text-tip");t.remove()},3e3)},reportUserAction:function(e){if(e.ruleId&&e.actionObjectId){var n={type:"POST",url:MUSIC_CONFIG.APP_BASE_PATH+"/async/user/report",cache:!1,name:"用户行为统计上报",data:{ruleId:e.ruleId,actionObjectId:e.actionObjectId,channelId:e.channelId}};t.fetchApi(n).then(function(t){"function"==typeof e.success&&e.success(t)})}}};return t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i,i;i=function(){var o,r={},a=$("body"),s={},l=n(4),u={v:"1.0",index:0,Zindex:200,confirm:function(t){var e=$.extend({},t,{type:"confirm"});return u.open(e)},tip:function(t,e){var n={type:"tip",container:t,closeBtn:!1,isOverlay:!1,time:e||1500};return u.open(n)},loading:function(t){var t=$.extend({closeBtn:!1,isLoding:!0,type:0,text:"拼命加载中...",showText:!1},t);return u.open(t)}},c=function(){this.defaults={container:null,isOverlay:!0,overlayClose:!1,closeBtn:!0,success:null,end:null}};c.prototype={getOptions:function(t){return $.extend({},this.defaults,t)},removeNode:function(t){t.remove()}};var d=new c,f=function(t,e){var n;return function(){return n=$('<div id="overlay'+t+'" class="overlay"></div>'),n.css({margin:0,padding:0,border:"none",width:"100%",height:"100%","z-index":e,background:"#000",opacity:"0.5",filter:"alpha(opacity=50)",position:"fixed",top:0,left:0}),n}()},p=function(t){var e;return function(){e=$('<div class="dialog-header"></div>');var n=$('<span class="dialog-title">'+r.title+"</span>"),i=$('<i class="dialog-close iconfont cf-close" id="dialog_close'+t+'" title="关闭"></i>');return e.append(n).append(i),e}()},h=function(t){var e=this;e.index=++u.index,e.Zindex=u.Zindex+e.index,e.creat()};return h.pt=h.prototype,h.pt.creat=function(){var t=this,e=t.index,n=t.Zindex,i=$('<div id="dialog_box'+e+'" class="dialog_box"></div>');if(i.css({margin:0,padding:0,width:r.width||"auto",height:r.height||"auto","z-index":n,top:"50%",left:"50%",position:"fixed","background-color":r.isLoding?"transparent":"#fff",textAlign:r.isLoding?"center":"left","min-width":r.width?0:400}),r.isLoding&&i.html(l(r)),r.title)i.append(p(e));else if(r.closeBtn){var s=$('<i class="dialog-close iconfont cf-close cf-diff-close" id="dialog_close'+e+'" title="关闭"></i>');i.append(s)}if(r.isOverlay){var c=f(e,n);a.append(c)}if(a.append(i),"confirm"===r.type){t.yes=r.yes,t.cancel=r.cancel,o=$('<div class="confirm-layer"></div>');var d=$('<span class="btn-sure">确&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;定</span>'),h=$('<span href="javascript:;" class="btn-cancel">取&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;消</span>');o.html('<div class="confirm-text">'+r.container+'</div><div class="operate-btn"></div>'),o.find(".operate-btn").append(d).append(h),d.click(function(){"function"==typeof t.yes&&t.yes()}),h.click(function(){"function"==typeof t.cancel&&t.cancel()})}else"tip"===r.type?(o=$('<div class="text-tip"></div>'),$("body").append('<div class="text-tip-overlay"></div>'),o.html(r.container),setTimeout(function(){$(".text-tip-overlay").remove(),u.close(e)},r.time)):o=$(r.container);return i.append(o),"tip"===r.type&&o.parent().css("background","transparent"),u.reset(e),i.find(".dialog-close").click(function(){u.close(e)}),r.overlayClose&&c.click(function(){u.close(e)}),"function"==typeof r.success&&r.success(t.index),i},u.close=function(t){if(!t)return $(".overlay").remove(),void $(".dialog_box").remove();var e=$("#overlay"+t);e&&d.removeNode(e),d.removeNode($("#dialog_box"+t)),"function"==typeof r.end&&r.end()},u.reset=function(t){var e=$("#dialog_box"+t),n=e.width(),i=e.height();e.css({"margin-top":-i/2,"margin-left":-n/2})},s.run=function(){u.open=function(t){r=d.getOptions(t);var e=(r.type,new h);return e.index}},i=function(){return s.run(),u}.call(e,n,e,t),!(void 0!==i&&(t.exports=i)),u}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){function i(t){var e,n="",i=t||{};return function(t,i,r){switch(r){case 1:var a="upload";break;default:var a="loading"}n=n+"<div"+(o.attr("class",o.classes([a],[!0]),!1,!0)+' id="loading"')+">",t&&(n=n+"<span>"+o.escape(null==(e=i)?"":e)+"</span>"),n+="</div>"}.call(this,"showText"in i?i.showText:"undefined"!=typeof showText?showText:void 0,"text"in i?i.text:"undefined"!=typeof text?text:void 0,"type"in i?i.type:"undefined"!=typeof type?type:void 0),n}var o=n(5);t.exports=i},function(t,e,n){"use strict";function i(t,e){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=i(n,t[o]);return n}for(var r in e)if("class"===r){var a=t[r]||[];t[r]=(Array.isArray(a)?a:[a]).concat(e[r]||[])}else if("style"===r){var a=s(t[r]),l=s(e[r]);t[r]=a+l}else t[r]=e[r];return t}function o(t,e){for(var n,i="",o="",r=Array.isArray(e),s=0;s<t.length;s++)n=a(t[s]),n&&(r&&e[s]&&(n=c(n)),i=i+o+n,o=" ");return i}function r(t){var e="",n="";for(var i in t)i&&t[i]&&f.call(t,i)&&(e=e+n+i,n=" ");return e}function a(t,e){return Array.isArray(t)?o(t,e):t&&"object"==typeof t?r(t):t||""}function s(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)f.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+="",";"!==t[t.length-1]?t+";":t}function l(t,e,n,i){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(i?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||e.indexOf('"')===-1)?(n&&(e=c(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function u(t,e){var n="";for(var i in t)if(f.call(t,i)){var o=t[i];if("class"===i){o=a(o),n=l(i,o,!1,e)+n;continue}"style"===i&&(o=s(o)),n+=l(i,o,!1,e)}return n}function c(t){var e=""+t,n=p.exec(e);if(!n)return t;var i,o,r,a="";for(i=n.index,o=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==i&&(a+=e.substring(o,i)),o=i+1,a+=r}return o!==i?a+e.substring(o,i):a}function d(t,e,i,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&e||o))throw t.message+=" on line "+i,t;try{o=o||n(6).readFileSync(e,"utf8")}catch(e){d(t,null,i)}var r=3,a=o.split("\n"),s=Math.max(i-r,0),l=Math.min(a.length,i+r),r=a.slice(s,l).map(function(t,e){var n=e+s+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Pug")+":"+i+"\n"+r+"\n\n"+t.message,t}var f=Object.prototype.hasOwnProperty;e.merge=i,e.classes=a,e.style=s,e.attr=l,e.attrs=u;var p=/["&<>]/;e.escape=c,e.rethrow=d},function(t,e){},function(t,e,n){var i;i=function(){function t(t){return!!e.getCookie("migu_music_status")||(t!==!1&&i(),!1)}var e=n(2),i=n(8);return t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(){function t(){var t=MUSIC_CONFIG.MIGU_LOGIN_URL+MUSIC_CONFIG.SOURCE_ID,n=window.location.href,i=t+"&callbackURL="+encodeURIComponent(n),o=$('<div class="login-mask"></div>'),r=$("body").find(".login-mask");(r||r.length>0)&&o.remove(),$("body").append(o);var a='<div class="migu-login-ui iframe-wrap" id="login-container"><div class="login-close-ui" id="login-close-btn" title="关闭">×</div><img src="/img/loginLoading.png" id="loginLoading" /><iframe name="loginIframe" id="loginIframe" allowtransparency="true" frameborder="0" scrolling="no" src="'+i+'"></iframe><label class="auto-login hide" for="auto-login"><input type="checkbox" id="auto-login">两周内免登陆</label><div class="auto-login-tips hide" id="auto-login-tips">请不要在公共场合使用</div><div>',s=$(a);setTimeout(function(){$("#loginLoading").hide()},300);var l=$("body").find(".migu-login-ui");l&&l.length>0&&l.remove(),$("body").append(s),$("div").delegate("#login-close-btn","click",function(){$("body").find(".login-close-hide").remove(),$("body").find(".migu-login-ui").remove(),$("body").find(".login-mask").remove()}),$(document).on("click","#auto-login",function(){var t=$(this),n=t.is(":checked");if(n){$("body").find("#auto-login-tips").removeClass("hide");var i={expires:14,path:"/",domain:document.domain,secure:!1};e.setCookie("migu_music_auto",!0,i)}else $("body").find("#auto-login-tips").addClass("hide"),e.removeCookie("migu_music_auto","/",document.domain)})}var e=n(2);return t}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(e,n){/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
	 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
	 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
	 *
	 * Version: 1.3.8
	 *
	 */
!function(e){e.fn.extend({slimScroll:function(n){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=e.extend(i,n);return this.each(function(){function i(t){if(c){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+o.wrapperClass).is(w.parent())&&r(n,!0),t.preventDefault&&!b&&t.preventDefault(),b||(t.returnValue=!1)}}function r(t,e,n){b=!1;var i=t,r=w.outerHeight()-I.outerHeight();if(e&&(i=parseInt(I.css("top"))+t*parseInt(o.wheelStep)/100*I.outerHeight(),i=Math.min(Math.max(i,0),r),i=t>0?Math.ceil(i):Math.floor(i),I.css({top:i+"px"})),m=parseInt(I.css("top"))/(w.outerHeight()-I.outerHeight()),i=m*(w[0].scrollHeight-w.outerHeight()),n){i=t;var a=i/w[0].scrollHeight*w.outerHeight();a=Math.min(Math.max(a,0),r),I.css({top:a+"px"})}w.scrollTop(i),w.trigger("slimscrolling",~~i),l(),u()}function a(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",i,!1),t.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function s(){g=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),y),I.css({height:g+"px"});var t=g==w.outerHeight()?"none":"block";I.css({display:t})}function l(){if(s(),clearTimeout(p),m==~~m){if(b=o.allowPageScroll,v!=m){var t=0==~~m?"top":"bottom";w.trigger("slimscroll",t)}}else b=!1;return v=m,g>=w.outerHeight()?void(b=!0):(I.stop(!0,!0).fadeIn("fast"),void(o.railVisible&&$.stop(!0,!0).fadeIn("fast")))}function u(){o.alwaysVisible||(p=setTimeout(function(){o.disableFadeOut&&c||d||f||(I.fadeOut("slow"),$.fadeOut("slow"))},1e3))}var c,d,f,p,h,g,m,v,_="<div></div>",y=30,b=!1,w=e(this);if(w.parent().hasClass(o.wrapperClass)){var S=w.scrollTop();if(I=w.siblings("."+o.barClass),$=w.siblings("."+o.railClass),s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){w.parent().css("height","auto"),w.css("height","auto");var P=w.parent().parent().height();w.parent().css("height",P),w.css("height",P)}else if("height"in n){var C=n.height;w.parent().css("height",C),w.css("height",C)}if("scrollTo"in n)S=parseInt(o.scrollTo);else if("scrollBy"in n)S+=parseInt(o.scrollBy);else if("destroy"in n)return I.remove(),$.remove(),void w.unwrap();r(S,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){o.height="auto"==o.height?w.parent().height():o.height;var O=e(_).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});w.css({overflow:"hidden",width:o.width,height:o.height});var $=e(_).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),I=e(_).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),x="right"==o.position?{right:o.distance}:{left:o.distance};$.css(x),I.css(x),w.wrap(O),w.parent().append(I),w.parent().append($),o.railDraggable&&I.bind("mousedown",function(n){var i=e(document);return f=!0,t=parseFloat(I.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,I.css("top",currTop),r(0,I.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){f=!1,u(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),$.hover(function(){l()},function(){u()}),I.hover(function(){d=!0},function(){d=!1}),w.hover(function(){c=!0,l(),u()},function(){c=!1,u()}),w.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(h=t.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(t){if(b||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(h-t.originalEvent.touches[0].pageY)/o.touchScrollStep;r(e,!0),h=t.originalEvent.touches[0].pageY}}),s(),"bottom"===o.start?(I.css({top:w.outerHeight()-I.outerHeight()}),r(0,!0)):"top"!==o.start&&(r(e(o.start).position().top,null,!0),o.alwaysVisible||I.hide()),a(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery)},,function(t,e,n){var i;i=function(){function t(t,e){var n=t.val().length;if(n>e){for(var i=[],o=t.val().split(""),r=0;r<e;r++)i.push(o[r]);t.val(i.join("")),t.siblings("em").text(e+"/"+e)}else t.siblings("em").text(n+"/"+e)}function e(t,e){$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/createSongList",type:"post",data:{playListName:t}}).done(function(t){"000000"===t.returnCode?e(t.playListId):"100000"===t.returnCode?r.tip("创建同名歌单失败，换一个歌单名试试"):r.tip("创建歌单失败,请稍后再试！")})}function i(t,e,n,i){$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/songlistsongaction",dataType:"json",type:"post",data:{songIds:t,songListId:e,type:n}}).done(function(t){$(".songlist-item").removeClass("active"),$(".items").removeClass("active"),$(".operate-menu").hide(),"000000"===t.returnCode?(r.tip("添加到新歌单成功"),i()):r.tip(t.returnDesc)}).fail(function(){r.tip("添加到新歌单失败")})}var o=n(12),r=n(3),a=n(7);$(document).on("click",".add-songList",function(){var n=$(this);if($(".songlist-item").removeClass("active"),$(".items").removeClass("active"),$(".operate-menu").hide(),a())var s=r.open({container:o(),success:function(){$("#sl-name-input").focus(),$("#sl-name-input").on("keyup",function(){t($(this),40)}),$(".add-sure").click(function(){$("#sl-name-input").val().trim()?e($("#sl-name-input").val().trim(),function(t){if(r.close(s),n.data("addList")&&n.data("addList").length>0)location.pathname.indexOf(MUSIC_CONFIG.APP_BASE_PATH+"/my")!=-1?i(n.data("addList"),t,"add",function(){location.reload()}):i(n.data("addList"),t,"add");else if("reload"==n.data("action"))r.close(n.data("index")),$("#js_add_songlist").click();else var e=r.open({container:'<div class="sucess-text-tip">歌单创建成功,去“<a href="'+MUSIC_CONFIG.APP_BASE_PATH+'/my#myCheckSonglist" class="migucolor" target="_blank">我的</a>”频道编辑你的歌单吧~<span class="sure-btn btn btn-primary">确&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;定</span></div>',closeBtn:!1,success:function(){$(".sure-btn").click(function(){r.close(e)})}});location.pathname.indexOf(MUSIC_CONFIG.APP_BASE_PATH+"/my")!=-1&&location.reload(),$(".songlist-item").removeClass("active"),$(".items").removeClass("active"),$(".operate-menu").hide()}):r.tip("内容不可为空，请输入您要创建的歌单名称~")}),$(".add-cancel").click(function(){r.close(s)})}})})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){function i(t){var e="";return e+='<div class="add-sl-container"><div class="sl-name clearfix"><div class="sl-name-label">歌单名称<i>*</i></div><div class="sl-name-input"><input id="sl-name-input" type="text" placeholder="好的标题被搜到的几率更大哦"><em class="letter-sta">0/40</em></div></div><div class="sl-action"><span class="add-sure btn btn-primary">确&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;定</span><span class="add-cancel btn btn-gray">取&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;消</span></div></div>'}n(5);t.exports=i},,,function(t,e,n){var i;i=function(){var t=n(16),e=n(17),i=document.domain.indexOf("migu.cn")>-1?"migu.cn":document.domain;return n(18),{id:"cafePlayer_migu_music",target:location.hostname+"_migu_player",timer:null,playerExists:function(){return 1===parseInt(t.get("audioplayer_open"))},openAWindow:function(t){$("body").append('<a id="openawindow" href="'+t+'" target="'+this.target+'"></a>'),$("#openawindow")[0].click(),setTimeout(function(){$("#openawindow").remove()},500)},openAudioPlayer:function(n){var o=this;o.playerExists()?(document.cookie="audioplayer_exist=0;path=/;domain="+i,n&&$.jStorage.publish("focusAudio",{status:!0}),o.timer&&clearTimeout(o.timer),o.timer=setTimeout(function(){var n=parseInt(t.get("audioplayer_exist"));n||(e.set("playlist#"+o.id,"[]"),e.set("temp_playlist","[]"),MUSIC_CONFIG.IS_FROM_MIGU?o.openAWindow(MUSIC_CONFIG.APP_BASE_PATH+"/player/audio?_from=migu"):o.openAWindow(MUSIC_CONFIG.APP_BASE_PATH+"/player/audio"))},2e3)):(e.set("playlist#"+o.id,"[]"),e.set("temp_playlist","[]"),MUSIC_CONFIG.IS_FROM_MIGU?o.openAWindow(MUSIC_CONFIG.APP_BASE_PATH+"/player/audio?_from=migu"):o.openAWindow(MUSIC_CONFIG.APP_BASE_PATH+"/player/audio"))},addSong:function(t,e){localStorage.setItem("store_add_list",JSON.stringify(t)),document.cookie="playlist_change=1;path=/;domain="+i,e?document.cookie="add_play_now=1;path=/;domain="+i:document.cookie="add_play_now=0;path=/;domain="+i}}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;!function(o,r){"use strict";var a=function(t){if("object"!=typeof t.document)throw new Error("Cookies.js requires a `window` with a `document` object");var e=function(t,n,i){return 1===arguments.length?e.get(t):e.set(t,n,i)};return e._document=t.document,e._cacheKeyPrefix="cookey.",e._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),e.defaults={path:"/",secure:!1},e.get=function(t){e._cachedDocumentCookie!==e._document.cookie&&e._renewCache();var n=e._cache[e._cacheKeyPrefix+t];return n===r?r:decodeURIComponent(n)},e.set=function(t,n,i){return i=e._getExtendedOptions(i),i.expires=e._getExpiresDate(n===r?-1:i.expires),e._document.cookie=e._generateCookieString(t,n,i),e},e.expire=function(t,n){return e.set(t,r,n)},e._getExtendedOptions=function(t){return{path:t&&t.path||e.defaults.path,domain:t&&t.domain||e.defaults.domain,expires:t&&t.expires||e.defaults.expires,secure:t&&t.secure!==r?t.secure:e.defaults.secure}},e._isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e._getExpiresDate=function(t,n){if(n=n||new Date,"number"==typeof t?t=t===1/0?e._maxExpireDate:new Date(n.getTime()+1e3*t):"string"==typeof t&&(t=new Date(t)),t&&!e._isValidDate(t))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return t},e._generateCookieString=function(t,e,n){t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent),t=t.replace(/\(/g,"%28").replace(/\)/g,"%29"),e=(e+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i=t+"="+e;return i+=n.path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},e._getCacheFromString=function(t){for(var n={},i=t?t.split("; "):[],o=0;o<i.length;o++){var a=e._getKeyValuePairFromCookieString(i[o]);n[e._cacheKeyPrefix+a.key]===r&&(n[e._cacheKeyPrefix+a.key]=a.value)}return n},e._getKeyValuePairFromCookieString=function(t){var e=t.indexOf("=");e=e<0?t.length:e;var n,i=t.substr(0,e);try{n=decodeURIComponent(i)}catch(t){console&&"function"==typeof console.error}return{key:n,value:t.substr(e+1)}},e._renewCache=function(){e._cache=e._getCacheFromString(e._document.cookie),e._cachedDocumentCookie=e._document.cookie},e._areEnabled=function(){var t="cookies.js",n="1"===e.set(t,1).get(t);return e.expire(t),n},e.enabled=e._areEnabled(),e},s=o&&"object"==typeof o.document?a(o):a;i=function(){return s}.call(e,n,e,t),!(i!==r&&(t.exports=i))}("undefined"==typeof window?this:window)},function(t,e,n){var i;i=function(){return n(18),{set:function(t,e){return $.jStorage.set(t,e)},get:function(t){return $.jStorage.get(t)?$.jStorage.get(t):"[]"},clear:function(t){return $.jStorage.deleteKey(t)}}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e){!function(){function t(){var t="{}";if("userDataBehavior"==m){h.load("jStorage");try{t=h.getAttribute("jStorage")}catch(t){}try{y=h.getAttribute("jStorage_update")}catch(t){}p.jStorage=t}o(),s(),l()}function e(){var e;clearTimeout(_),_=setTimeout(function(){if("localStorage"==m||"globalStorage"==m)e=p.jStorage_update;else if("userDataBehavior"==m){h.load("jStorage");try{e=h.getAttribute("jStorage_update")}catch(t){}}if(e&&e!=y){y=e;var i,o=c.parse(c.stringify(f.__jstorage_meta.CRC32));t(),i=c.parse(c.stringify(f.__jstorage_meta.CRC32));var r,a=[],s=[];for(r in o)o.hasOwnProperty(r)&&(i[r]?o[r]!=i[r]&&"2."==String(o[r]).substr(0,2)&&a.push(r):s.push(r));for(r in i)i.hasOwnProperty(r)&&(o[r]||a.push(r));n(a,"updated"),n(s,"deleted")}},25)}function n(t,e){t=[].concat(t||[]);var n,i,o,r;if("flushed"==e){t=[];for(n in v)v.hasOwnProperty(n)&&t.push(n);e="deleted"}for(n=0,o=t.length;n<o;n++){if(v[t[n]])for(i=0,r=v[t[n]].length;i<r;i++)v[t[n]][i](t[n],e);if(v["*"])for(i=0,r=v["*"].length;i<r;i++)v["*"][i](t[n],e)}}function i(){var t=(+new Date).toString();if("localStorage"==m||"globalStorage"==m)try{p.jStorage_update=t}catch(t){m=!1}else"userDataBehavior"==m&&(h.setAttribute("jStorage_update",t),h.save("jStorage"));e()}function o(){if(p.jStorage)try{f=c.parse(String(p.jStorage))}catch(t){p.jStorage="{}"}else p.jStorage="{}";g=p.jStorage?String(p.jStorage).length:0,f.__jstorage_meta||(f.__jstorage_meta={}),f.__jstorage_meta.CRC32||(f.__jstorage_meta.CRC32={})}function r(){if(f.__jstorage_meta.PubSub){for(var t=+new Date-2e3,e=0,n=f.__jstorage_meta.PubSub.length;e<n;e++)if(f.__jstorage_meta.PubSub[e][0]<=t){f.__jstorage_meta.PubSub.splice(e,f.__jstorage_meta.PubSub.length-e);break}f.__jstorage_meta.PubSub.length||delete f.__jstorage_meta.PubSub}try{p.jStorage=c.stringify(f),h&&(h.setAttribute("jStorage",p.jStorage),h.save("jStorage")),g=p.jStorage?String(p.jStorage).length:0}catch(t){}}function a(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==t)throw new TypeError("Reserved key name");return!0}function s(){var t,e,o,a,l=1/0,u=!1,c=[];if(clearTimeout(d),f.__jstorage_meta&&"object"==typeof f.__jstorage_meta.TTL){t=+new Date,o=f.__jstorage_meta.TTL,a=f.__jstorage_meta.CRC32;for(e in o)o.hasOwnProperty(e)&&(o[e]<=t?(delete o[e],delete a[e],delete f[e],u=!0,c.push(e)):o[e]<l&&(l=o[e]));1/0!=l&&(d=setTimeout(s,Math.min(l-t,2147483647))),u&&(r(),i(),n(c,"deleted"))}}function l(){var t;if(f.__jstorage_meta.PubSub){var e,n=w,i=[];for(t=f.__jstorage_meta.PubSub.length-1;0<=t;t--)e=f.__jstorage_meta.PubSub[t],e[0]>w&&(n=e[0],i.unshift(e));for(t=i.length-1;0<=t;t--){e=i[t][1];var o=i[t][2];if(b[e])for(var r=0,a=b[e].length;r<a;r++)try{b[e][r](e,c.parse(c.stringify(o)))}catch(t){}}w=n}}var u=window.jQuery||window.$||(window.$={}),c={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||u.parseJSON||u.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||u.toJSON};if("function"!=typeof c.parse||"function"!=typeof c.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var d,f={__jstorage_meta:{CRC32:{}}},p={jStorage:"{}"},h=null,g=0,m=!1,v={},_=!1,y=0,b={},w=+new Date,S={isXML:function(t){return!!(t=(t?t.ownerDocument||t:0).documentElement)&&"HTML"!==t.nodeName},encode:function(t){if(!this.isXML(t))return!1;try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(t){}}return!1},decode:function(t){var e="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e};return!!e&&(t=e.call("DOMParser"in window&&new DOMParser||window,t,"text/xml"),!!this.isXML(t)&&t)}};u.jStorage={version:"0.4.12",set:function(t,e,i){if(a(t),i=i||{},"undefined"==typeof e)return this.deleteKey(t),e;if(S.isXML(e))e={_is_xml:!0,xml:S.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=c.parse(c.stringify(e)))}f[t]=e;for(var o,r=f.__jstorage_meta.CRC32,s=c.stringify(e),l=s.length,u=2538058380^l,d=0;4<=l;)o=255&s.charCodeAt(d)|(255&s.charCodeAt(++d))<<8|(255&s.charCodeAt(++d))<<16|(255&s.charCodeAt(++d))<<24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^o,l-=4,++d;switch(l){case 3:u^=(255&s.charCodeAt(d+2))<<16;case 2:u^=(255&s.charCodeAt(d+1))<<8;case 1:u^=255&s.charCodeAt(d),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)}return u^=u>>>13,u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16),r[t]="2."+((u^u>>>15)>>>0),this.setTTL(t,i.TTL||0),n(t,"updated"),e},get:function(t,e){return a(t),t in f?f[t]&&"object"==typeof f[t]&&f[t]._is_xml?S.decode(f[t].xml):f[t]:"undefined"==typeof e?null:e},deleteKey:function(t){return a(t),t in f&&(delete f[t],"object"==typeof f.__jstorage_meta.TTL&&t in f.__jstorage_meta.TTL&&delete f.__jstorage_meta.TTL[t],delete f.__jstorage_meta.CRC32[t],r(),i(),n(t,"deleted"),!0)},setTTL:function(t,e){var n=+new Date;return a(t),e=Number(e)||0,t in f&&(f.__jstorage_meta.TTL||(f.__jstorage_meta.TTL={}),0<e?f.__jstorage_meta.TTL[t]=n+e:delete f.__jstorage_meta.TTL[t],r(),s(),i(),!0)},getTTL:function(t){var e=+new Date;return a(t),t in f&&f.__jstorage_meta.TTL&&f.__jstorage_meta.TTL[t]?(t=f.__jstorage_meta.TTL[t]-e)||0:0},flush:function(){return f={__jstorage_meta:{CRC32:{}}},r(),i(),n(null,"flushed"),!0},storageObj:function(){function t(){}return t.prototype=f,new t},index:function(){var t,e=[];for(t in f)f.hasOwnProperty(t)&&"__jstorage_meta"!=t&&e.push(t);return e},storageSize:function(){return g},currentBackend:function(){return m},storageAvailable:function(){return!!m},listenKeyChange:function(t,e){a(t),v[t]||(v[t]=[]),v[t].push(e)},stopListening:function(t,e){if(a(t),v[t])if(e)for(var n=v[t].length-1;0<=n;n--)v[t][n]==e&&v[t].splice(n,1);else delete v[t]},subscribe:function(t,e){if(t=(t||"").toString(),!t)throw new TypeError("Channel not defined");b[t]||(b[t]=[]),b[t].push(e)},publish:function(t,e){if(t=(t||"").toString(),!t)throw new TypeError("Channel not defined");f.__jstorage_meta||(f.__jstorage_meta={}),f.__jstorage_meta.PubSub||(f.__jstorage_meta.PubSub=[]),f.__jstorage_meta.PubSub.unshift([+new Date,t,e]),r(),i()},reInit:function(){t()},noConflict:function(t){return delete window.$.jStorage,t&&(window.jStorage=this),this}},function(){var t=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),t=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(t)try{window.localStorage&&(p=window.localStorage,m="localStorage",y=p.jStorage_update)}catch(t){}else if("globalStorage"in window)try{window.globalStorage&&(p="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],m="globalStorage",y=p.jStorage_update)}catch(t){}else{if(h=document.createElement("link"),!h.addBehavior)return void(h=null);h.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(h);try{h.load("jStorage")}catch(t){h.setAttribute("jStorage","{}"),h.save("jStorage"),h.load("jStorage")}t="{}";try{t=h.getAttribute("jStorage")}catch(t){}try{y=h.getAttribute("jStorage_update")}catch(t){}p.jStorage=t,m="userDataBehavior"}o(),s(),"localStorage"==m||"globalStorage"==m?"addEventListener"in window?window.addEventListener("storage",e,!1):document.attachEvent("onstorage",e):"userDataBehavior"==m&&setInterval(e,1e3),l(),"addEventListener"in window&&window.addEventListener("pageshow",function(t){t.persisted&&e()},!1)}()}()},function(t,e,n){var i;i=function(){$.fn.scrollbar=function(t){function e(t){t<0?t=0:t>r-d&&(t=r-d),c.stop(!0,!0).animate({top:t},100),l.stop(!0,!0).animate({width:"100%",top:-(r/d)*t},100)}var n={barWidth:8,speed:8,barRight:0},t=$.extend({},n,t),i=t.barWidth,o=this,r=o.height(),a=$("<div class='scroll-bar'><div class='scroll-bar-inner'></div></div>"),s={position:"absolute",width:i,height:r,right:t.barRight,top:(o.innerHeight()-o.height())/2};a.css(s);var l=o.find(".scroll-content");l.css({position:"absolute",width:"100%"}),o.find(".scroll-bar").remove(),o.append(a);var u=l.height();if(o.unbind("mousewheel DOMMouseScroll"),u<=r)return!1;var c=a.find(".scroll-bar-inner"),d=r/u*r;c.css({height:d,position:"absolute",width:"100%"}),o.css({"padding-right":t.barWidth,position:"relative",overflow:"hidden"}),c.mousedown(function(t){var n=$(this);n.addClass("active");var i=t.pageY-n.position().top;return this.setCapture?(n.mousemove(function(t){e(t.pageY-i)}),this.setCapture(),n.mouseup(function(){$(this).unbind("mousemove mouseup"),this.releaseCapture(),n.removeClass("active")})):($(document).mousemove(function(t){e(t.pageY-i)}),$(document).mouseup(function(){$(document).unbind("mousemove mouseup"),n.removeClass("active")})),!1}),o.on("mousewheel DOMMouseScroll",function(n){n.preventDefault();var i=n.originalEvent.wheelDelta&&(n.originalEvent.wheelDelta>0?1:-1)||n.originalEvent.detail&&(n.originalEvent.detail>0?-1:1);i>0?e(c.position().top-t.speed):i<0&&e(c.position().top+t.speed)}),o.on("click",function(t){if("scroll-bar"==$(t.target).attr("class")){var n=t.pageY-$(this).offset().top,i=n-d/2;i<=0?i=0:i+d>=r&&(i=r-d),e(i)}})}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;(function(t){/** @license
	 *
	 * SoundManager 2: JavaScript Sound for the Web
	 * ----------------------------------------------
	 * http://schillmania.com/projects/soundmanager2/
	 *
	 * Copyright (c) 2007, Scott Schiller. All rights reserved.
	 * Code provided under the BSD License:
	 * http://schillmania.com/projects/soundmanager2/license.txt
	 *
	 * V2.97a.20170601
	 */
!function(o,r){"use strict";function a(t,e){function n(t){return vt.preferFlash&&ut&&!vt.ignoreFlash&&vt.flash[t]!==r&&vt.flash[t]}function i(t){return function(e){var n,i=this._s;return i&&i._a?n=t.call(this,e):(i&&i.id?vt._wD(i.id+": Ignoring "+e.type):vt._wD(St+"Ignoring "+e.type),n=null),n}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=e||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var a,s,l,u,c,d,f,p,h,g,m,v,_,y,b,w,S,P,C,O,$,I,x,A,T,M,L,k,D,j,F,N,E,H,R,U,B,W,G,q,V,z,J,K,X,Y,Q,Z,tt,et,nt,it,ot,rt,at,st,lt,ut,ct,dt,ft,pt,ht,gt,mt,vt=this,_t=null,yt=null,bt="soundManager",wt=bt+": ",St="HTML5::",Pt=navigator.userAgent,Ct=o.location.href.toString(),Ot=document,$t=[],It=!0,xt=!1,At=!1,Tt=!1,Mt=!1,Lt=!1,kt=0,Dt=["log","info","warn","error"],jt=8,Ft=null,Nt=null,Et=!1,Ht=!1,Rt=0,Ut=null,Bt=[],Wt=null,Gt=Array.prototype.slice,qt=!1,Vt=0,zt=1e3,Jt=Pt.match(/(ipad|iphone|ipod)/i),Kt=Pt.match(/android/i),Xt=Pt.match(/msie|trident/i),Yt=Pt.match(/webkit/i),Qt=Pt.match(/safari/i)&&!Pt.match(/chrome/i),Zt=Pt.match(/opera/i),te=Pt.match(/(mobile|pre\/|xoom)/i)||Jt||Kt,ee=!Ct.match(/usehtml5audio/i)&&!Ct.match(/sm2-ignorebadua/i)&&Qt&&!Pt.match(/silk/i)&&Pt.match(/OS\sX\s10_6_([3-7])/i),ne=o.console!==r&&console.log!==r,ie=Ot.hasFocus!==r?Ot.hasFocus():null,oe=Qt&&(Ot.hasFocus===r||!Ot.hasFocus()),re=!oe,ae=/(mp3|mp4|mpa|m4a|m4b)/i,se="about:blank",le="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",ue=Ot.location?Ot.location.protocol.match(/http/i):null,ce=ue?"":"//",de=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,fe=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],pe=new RegExp("\\.("+fe.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!ue,B={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},nt=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==r&&(Zt&&opera!==r&&opera.version()<10?new Audio(null):new Audio).canPlayType!==r}catch(t){return!1}}(),this.setup=function(t){var e=!vt.url;return t!==r&&Tt&&Wt&&vt.ok()&&(t.flashVersion!==r||t.url!==r||t.html5Test!==r)&&V(H("setupLate")),m(t),qt||(te?vt.setupOptions.ignoreMobileRestrictions&&!vt.setupOptions.forceUseGlobalHTML5Audio||(Bt.push($.globalHTML5),qt=!0):vt.setupOptions.forceUseGlobalHTML5Audio&&(Bt.push($.globalHTML5),qt=!0)),!mt&&te&&(vt.setupOptions.ignoreMobileRestrictions?Bt.push($.ignoreMobile):(vt.setupOptions.useHTML5Audio&&!vt.setupOptions.preferFlash||vt._wD($.mobileUA),vt.setupOptions.useHTML5Audio=!0,vt.setupOptions.preferFlash=!1,Jt?vt.ignoreFlash=!0:(Kt&&!Pt.match(/android\s2\.3/i)||!Kt)&&(vt._wD($.globalHTML5),qt=!0))),t&&(e&&T&&t.url!==r&&vt.beginDelayedInit(),T||t.url===r||"complete"!==Ot.readyState||setTimeout(x,1)),mt=!0,vt},this.ok=function(){return Wt?Tt&&!Mt:vt.useHTML5Audio&&vt.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return s(t)||Ot[t]||o[t]},this.createSound=function(t,e){function n(){return s=G(s),vt.sounds[s.id]=new a(s),vt.soundIDs.push(s.id),vt.sounds[s.id]}var i,o,s,l=null;if(i=bt+".createSound(): ",o=i+H(Tt?"notOK":"notReady"),!Tt||!vt.ok())return V(o),!1;if(e!==r&&(t={id:t,url:e}),s=g(t),s.url=Y(s.url),s.id===r&&(s.id=vt.setupOptions.idPrefix+Vt++),s.id.toString().charAt(0).match(/^[0-9]$/)&&vt._wD(i+H("badID",s.id),2),vt._wD(i+s.id+(s.url?" ("+s.url+")":""),1),z(s.id,!0))return vt._wD(i+s.id+" exists",1),vt.sounds[s.id];if(tt(s))l=n(),vt.html5Only||vt._wD(s.id+": Using HTML5"),l._setup_html5(s);else{if(vt.html5Only)return vt._wD(s.id+": No HTML5 support for this sound, and no Flash. Exiting."),n();if(vt.html5.usingFlash&&s.url&&s.url.match(/data:/i))return vt._wD(s.id+": data: URIs not supported via Flash. Exiting."),n();d>8&&(null===s.isMovieStar&&(s.isMovieStar=!!(s.serverURL||!!s.type&&s.type.match(de)||s.url&&s.url.match(pe))),s.isMovieStar&&(vt._wD(i+"using MovieStar handling"),s.loops>1&&p("noNSLoop"))),s=q(s,i),l=n(),8===d?yt._createSound(s.id,s.loops||1,s.usePolicyFile):(yt._createSound(s.id,s.url,s.usePeakData,s.useWaveformData,s.useEQData,s.isMovieStar,!!s.isMovieStar&&s.bufferTime,s.loops||1,s.serverURL,s.duration||null,s.autoPlay,!0,s.autoLoad,s.usePolicyFile),s.serverURL||(l.connected=!0,s.onconnect&&s.onconnect.apply(l))),s.serverURL||!s.autoLoad&&!s.autoPlay||l.load(s)}return!s.serverURL&&s.autoPlay&&l.play(),l},this.destroySound=function(t,e){if(!z(t))return!1;var n,i=vt.sounds[t];for(i.stop(),i._iO={},i.unload(),n=0;n<vt.soundIDs.length;n++)if(vt.soundIDs[n]===t){vt.soundIDs.splice(n,1);break}return e||i.destruct(!0),i=null,delete vt.sounds[t],!0},this.load=function(t,e){return!!z(t)&&vt.sounds[t].load(e)},this.unload=function(t){return!!z(t)&&vt.sounds[t].unload()},this.onPosition=function(t,e,n,i){return!!z(t)&&vt.sounds[t].onposition(e,n,i)},this.onposition=this.onPosition,this.clearOnPosition=function(t,e,n){return!!z(t)&&vt.sounds[t].clearOnPosition(e,n)},this.play=function(t,e){var n=null,i=e&&!(e instanceof Object);if(!Tt||!vt.ok())return V(bt+".play(): "+H(Tt?"notOK":"notReady")),!1;if(z(t,i))i&&(e={url:e});else{if(!i)return!1;i&&(e={url:e}),e&&e.url&&(vt._wD(bt+'.play(): Attempting to create "'+t+'"',1),e.id=t,n=vt.createSound(e).play())}return null===n&&(n=vt.sounds[t].play(e)),n},this.start=this.play,this.setPlaybackRate=function(t,e,n){return!!z(t)&&vt.sounds[t].setPlaybackRate(e,n)},this.setPosition=function(t,e){return!!z(t)&&vt.sounds[t].setPosition(e)},this.stop=function(t){return!!z(t)&&(vt._wD(bt+".stop("+t+")",1),vt.sounds[t].stop())},this.stopAll=function(){var t;vt._wD(bt+".stopAll()",1);for(t in vt.sounds)vt.sounds.hasOwnProperty(t)&&vt.sounds[t].stop()},this.pause=function(t){return!!z(t)&&vt.sounds[t].pause()},this.pauseAll=function(){var t;for(t=vt.soundIDs.length-1;t>=0;t--)vt.sounds[vt.soundIDs[t]].pause()},this.resume=function(t){return!!z(t)&&vt.sounds[t].resume()},this.resumeAll=function(){var t;for(t=vt.soundIDs.length-1;t>=0;t--)vt.sounds[vt.soundIDs[t]].resume()},this.togglePause=function(t){return!!z(t)&&vt.sounds[t].togglePause()},this.setPan=function(t,e){return!!z(t)&&vt.sounds[t].setPan(e)},this.setVolume=function(t,e){var n,i;if(t!==r&&!isNaN(t)&&e===r){for(n=0,i=vt.soundIDs.length;n<i;n++)vt.sounds[vt.soundIDs[n]].setVolume(t);return!1}return!!z(t)&&vt.sounds[t].setVolume(e)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!z(t)&&(vt._wD(bt+'.mute(): Muting "'+t+'"'),vt.sounds[t].mute());for(vt._wD(bt+".mute(): Muting all sounds"),e=vt.soundIDs.length-1;e>=0;e--)vt.sounds[vt.soundIDs[e]].mute();return vt.muted=!0,!0},this.muteAll=function(){vt.mute()},this.unmute=function(t){var e;if(t instanceof String&&(t=null),t)return!!z(t)&&(vt._wD(bt+'.unmute(): Unmuting "'+t+'"'),vt.sounds[t].unmute());for(vt._wD(bt+".unmute(): Unmuting all sounds"),e=vt.soundIDs.length-1;e>=0;e--)vt.sounds[vt.soundIDs[e]].unmute();return vt.muted=!1,!0},this.unmuteAll=function(){vt.unmute()},this.toggleMute=function(t){return!!z(t)&&vt.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return yt&&8!==d&&(t=parseInt(yt._getMemoryUse(),10)),t},this.disable=function(t){var e;if(t===r&&(t=!1),Mt)return!1;for(Mt=!0,p("shutdown",1),e=vt.soundIDs.length-1;e>=0;e--)F(vt.sounds[vt.soundIDs[e]]);return F(vt),h(t),st.remove(o,"load",b),!0},this.canPlayMIME=function(t){var e;return vt.hasHTML5&&(e=et({type:t})),!e&&Wt&&(e=t&&vt.ok()?!!((d>8?t.match(de):null)||t.match(vt.mimePattern)):null),e},this.canPlayURL=function(t){var e;return vt.hasHTML5&&(e=et({url:t})),!e&&Wt&&(e=t&&vt.ok()?!!t.match(vt.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===r||!t.type||!vt.canPlayMIME(t.type))||vt.canPlayURL(t.href)},this.getSoundById=function(t,e){if(!t)return null;var n=vt.sounds[t];return n||e||vt._wD(bt+'.getSoundById(): Sound "'+t+'" not found.',2),n},this.onready=function(t,e){var n="onready",i=!1;if("function"!=typeof t)throw H("needFunction",n);return Tt&&vt._wD(H("queue",n)),e||(e=o),_(n,t,e),y(),i=!0,i},this.ontimeout=function(t,e){var n="ontimeout",i=!1;if("function"!=typeof t)throw H("needFunction",n);return Tt&&vt._wD(H("queue",n)),e||(e=o),_(n,t,e),y({type:n}),i=!0,i},this._writeDebug=function(t,e){var n,i,o="soundmanager-debug";return!!vt.setupOptions.debugMode&&(!!(ne&&vt.useConsole&&(e&&"object"==typeof e||Dt[e]!==r,vt.consoleOnly))||!!(n=s(o))&&(i=Ot.createElement("div"),++kt%2===0&&(i.className="sm2-alt"),e=e===r?0:parseInt(e,10),i.appendChild(Ot.createTextNode(t)),e&&(e>=2&&(i.style.fontWeight="bold"),3===e&&(i.style.color="#ff3333")),n.insertBefore(i,n.firstChild),n=null,!0))},Ct.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(t){o.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var t,e;for(p("currentObj",1),t=0,e=vt.soundIDs.length;t<e;t++)vt.sounds[vt.soundIDs[t]]._debug()},this.reboot=function(t,e){vt.soundIDs.length&&vt._wD("Destroying "+vt.soundIDs.length+" SMSound object"+(1!==vt.soundIDs.length?"s":"")+"...");var n,i,r;for(n=vt.soundIDs.length-1;n>=0;n--)vt.sounds[vt.soundIDs[n]].destruct();if(yt)try{Xt&&(Nt=yt.innerHTML),Ft=yt.parentNode.removeChild(yt)}catch(t){p("badRemove",2)}if(Nt=Ft=Wt=yt=null,vt.enabled=T=Tt=Et=Ht=xt=At=Mt=qt=vt.swfLoaded=!1,vt.soundIDs=[],vt.sounds={},Vt=0,mt=!1,t)$t=[];else for(n in $t)if($t.hasOwnProperty(n))for(i=0,r=$t[n].length;i<r;i++)$t[n][i].fired=!1;return e||vt._wD(bt+": Rebooting..."),vt.html5={usingFlash:null},vt.flash={},vt.html5Only=!1,vt.ignoreFlash=!1,o.setTimeout(function(){e||vt.beginDelayedInit()},20),vt},this.reset=function(){return p("reset"),vt.reboot(!0,!0)},this.getMoviePercent=function(){return yt&&"PercentLoaded"in yt?yt.PercentLoaded():null},this.beginDelayedInit=function(){Lt=!0,x(),setTimeout(function(){return!Ht&&(L(),I(),Ht=!0,!0)},20),w()},this.destruct=function(){vt._wD(bt+".destruct()"),vt.disable(!0)},a=function(t){var e,n,i,o,a,s,l,u,c,h,m=this,v=!1,_=[],y=0,b=null;c={duration:null,time:null},this.id=t.id,this.sID=this.id,this.url=t.url,this.options=g(t),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,h=!this.url,this.id3={},this._debug=function(){vt._wD(m.id+": Merged options:",m.options)},this.load=function(t){var e,n=null;if(t!==r?m._iO=g(t,m.options):(t=m.options,m._iO=t,b&&b!==m.url&&(p("manURL"),m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=Y(m._iO.url),m.instanceOptions=m._iO,e=m._iO,vt._wD(m.id+": load ("+e.url+")"),!e.url&&!m.url)return vt._wD(m.id+": load(): url is unassigned. Exiting.",2),m;if(m.isHTML5||8!==d||m.url||e.autoPlay||vt._wD(m.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),e.url===m.url&&0!==m.readyState&&2!==m.readyState)return p("onURL",1),3===m.readyState&&e.onload&&gt(m,function(){e.onload.apply(m,[!!m.duration])}),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},tt(e))n=m._setup_html5(e),n._called_load?vt._wD(m.id+": Ignoring request to load again"):(m._html5_canplay=!1,m.url!==e.url&&(vt._wD(p("manURL")+": "+e.url),m._a.src=e.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0);else{if(vt.html5Only)return vt._wD(m.id+": No flash support. Exiting."),m;if(m._iO.url&&m._iO.url.match(/data:/i))return vt._wD(m.id+": data: URIs not supported via Flash. Exiting."),m;try{m.isHTML5=!1,m._iO=q(G(e)),m._iO.autoPlay&&(m._iO.position||m._iO.from)&&(vt._wD(m.id+": Disabling autoPlay because of non-zero offset case"),m._iO.autoPlay=!1),e=m._iO,8===d?yt._load(m.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):yt._load(m.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(t){p("smError",2),f("onload",!1),k({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=e.url,m},this.unload=function(){return 0!==m.readyState&&(vt._wD(m.id+": unload()"),m.isHTML5?(o(),m._a&&(m._a.pause(),b=ot(m._a))):8===d?yt._unload(m.id,se):yt._unload(m.id),e()),m},this.destruct=function(t){vt._wD(m.id+": Destruct"),m.isHTML5?(o(),m._a&&(m._a.pause(),ot(m._a),qt||i(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,yt._destroySound(m.id)),t||vt.destroySound(m.id,!0)},this.play=function(t,e){var n,i,o,l,c,f,p,_=!0;if(n=m.id+": play(): ",e=e===r||e,t||(t={}),m.url&&(m._iO.url=m.url),m._iO=g(m._iO,m.options),m._iO=g(t,m._iO),m._iO.url=Y(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||(vt._wD(n+" Netstream not connected yet - setting autoPlay"),m.setAutoPlay(!0)),m;if(tt(m._iO)&&(m._setup_html5(m._iO),a()),1===m.playState&&!m.paused){if(i=m._iO.multiShot,!i)return vt._wD(n+"Already playing (one-shot)",1),m.isHTML5&&m.setPosition(m._iO.position),m;vt._wD(n+"Already playing (multi-shot)",1)}if(t.url&&t.url!==m.url&&(m.readyState||m.isHTML5||8!==d||!h?m.load(m._iO):h=!1),m.loaded)vt._wD(n.substr(0,n.lastIndexOf(":")));else if(0===m.readyState){if(vt._wD(n+"Attempting to load"),m.isHTML5||vt.html5Only){if(!m.isHTML5)return vt._wD(n+"Unsupported type. Exiting."),m;m.load(m._iO)}else m._iO.autoPlay=!0,m.load(m._iO);m.instanceOptions=m._iO}else{if(2===m.readyState)return vt._wD(n+"Could not load - exiting",2),m;vt._wD(n+"Loading - attempting to play...")}return!m.isHTML5&&9===d&&m.position>0&&m.position===m.duration&&(vt._wD(n+"Sound at end, resetting to position: 0"),t.position=0),m.paused&&m.position>=0&&(!m._iO.serverURL||m.position>0)?(vt._wD(n+"Resuming from paused state",1),m.resume()):(m._iO=g(t,m._iO),(!m.isHTML5&&null!==m._iO.position&&m._iO.position>0||null!==m._iO.from&&m._iO.from>0||null!==m._iO.to)&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL&&(l=function(){m._iO=g(t,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?(vt._wD(n+"Beginning load for non-zero offset case"),m.load({_oncanplay:l})):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||(vt._wD(n+"Preloading for non-zero offset case"),m.load({onload:l})),m._iO=u()),(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!qt||!m.isHTML5&&d>8&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&s(m),m.playState=1,m.paused=!1,m.position=m._iO.position===r||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=q(G(m._iO))),m._iO.onplay&&e&&(m._iO.onplay.apply(m),v=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),1!==m._iO.playbackRate&&m.setPlaybackRate(m._iO.playbackRate),m.isHTML5?m.instanceCount<2?(a(),o=m._setup_html5(),m.setPosition(m._iO.position),o.play()):(vt._wD(m.id+": Cloning Audio() for instance #"+m.instanceCount+"..."),c=new Audio(m._iO.url),f=function(){st.remove(c,"ended",f),m._onfinish(m),ot(c),c=null},p=function(){st.remove(c,"canplay",p);try{c.currentTime=m._iO.position/zt}catch(t){V(m.id+": multiShot play() failed to apply position of "+m._iO.position/zt)}c.play()},st.add(c,"ended",f),m._iO.volume!==r&&(c.volume=Math.max(0,Math.min(1,m._iO.volume/100))),m.muted&&(c.muted=!0),m._iO.position?st.add(c,"canplay",p):c.play()):(_=yt._start(m.id,m._iO.loops||1,9===d?m.position:m.position/zt,m._iO.multiShot||!1),9!==d||_||(vt._wD(n+"No sound hardware, or 32-sound ceiling hit",2),m._iO.onplayerror&&m._iO.onplayerror.apply(m)))),m},this.start=this.play,this.stop=function(t){var e,n=m._iO;return 1===m.playState&&(vt._wD(m.id+": stop()"),m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),l(),n.to&&m.clearOnPosition(n.to),m.isHTML5?m._a&&(e=m.position,m.setPosition(0),m.position=e,m._a.pause(),m.playState=0,m._onTimer(),o()):(yt._stop(m.id,t),n.serverURL&&m.unload()),m.instanceCount=0,m._iO={},n.onstop&&n.onstop.apply(m)),m},this.setAutoPlay=function(t){vt._wD(m.id+": Autoplay turned "+(t?"on":"off")),m._iO.autoPlay=t,m.isHTML5||(yt._setAutoPlay(m.id,t),t&&(m.instanceCount||1!==m.readyState||(m.instanceCount++,vt._wD(m.id+": Incremented instance count to "+m.instanceCount))))},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPlaybackRate=function(t){var e=Math.max(.5,Math.min(4,t));if(e!==t&&vt._wD(m.id+": setPlaybackRate("+t+"): limiting rate to "+e,2),m.isHTML5)try{m._iO.playbackRate=e,m._a.playbackRate=e}catch(t){vt._wD(m.id+": setPlaybackRate("+e+") failed: "+t.message,2)}return m},this.setPosition=function(t){t===r&&(t=0);var e,n,i=m.isHTML5?Math.max(t,0):Math.min(m.duration||m._iO.duration,Math.max(t,0));if(m.position=i,n=m.position/zt,m._resetOnPosition(m.position),m._iO.position=i,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime.toFixed(3)!==n.toFixed(3)){vt._wD(m.id+": setPosition("+n+")");try{m._a.currentTime=n,(0===m.playState||m.paused)&&m._a.pause()}catch(t){vt._wD(m.id+": setPosition("+n+") failed: "+t.message,2)}}}else if(n)return vt._wD(m.id+": setPosition("+n+"): Cannot seek yet, sound not ready",2),m;m.paused&&m._onTimer(!0)}}else e=9===d?m.position:n,m.readyState&&2!==m.readyState&&yt._setPosition(m.id,e,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(t){return m.paused||0===m.playState&&1!==m.readyState?m:(vt._wD(m.id+": pause()"),m.paused=!0,m.isHTML5?(m._setup_html5().pause(),o()):(t||t===r)&&yt._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m),m)},this.resume=function(){var t=m._iO;return m.paused?(vt._wD(m.id+": resume()"),m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),a()):(t.isMovieStar&&!t.serverURL&&m.setPosition(m.position),yt._pause(m.id,t.multiShot)),!v&&t.onplay?(t.onplay.apply(m),v=!0):t.onresume&&t.onresume.apply(m),m):m},this.togglePause=function(){return vt._wD(m.id+": togglePause()"),0===m.playState?(m.play({position:9!==d||m.isHTML5?m.position/zt:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(t,e){return t===r&&(t=0),e===r&&(e=!1),m.isHTML5||yt._setPan(m.id,t),m._iO.pan=t,e||(m.pan=t,m.options.pan=t),m},this.setVolume=function(t,e){return t===r&&(t=100),e===r&&(e=!1),m.isHTML5?m._a&&(vt.muted&&!m.muted&&(m.muted=!0,m._a.muted=!0),m._a.volume=Math.max(0,Math.min(1,t/100))):yt._setVolume(m.id,vt.muted&&!m.muted||m.muted?0:t),m._iO.volume=t,e||(m.volume=t,m.options.volume=t),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):yt._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var t=m._iO.volume!==r;return m.isHTML5?m._a&&(m._a.muted=!1):yt._setVolume(m.id,t?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onPosition=function(t,e,n){return _.push({position:parseInt(t,10),method:e,scope:n!==r?n:m,fired:!1}),m},this.onposition=this.onPosition,this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),!isNaN(t))for(n=0;n<_.length;n++)t===_[n].position&&(e&&e!==_[n].method||(_[n].fired&&y--,_.splice(n,1)))},this._processOnPosition=function(){var t,e,n=_.length;if(!n||!m.playState||y>=n)return!1;for(t=n-1;t>=0;t--)e=_[t],!e.fired&&m.position>=e.position&&(e.fired=!0,y++,e.method.apply(e.scope,[e.position]),n=_.length);return!0},this._resetOnPosition=function(t){var e,n,i=_.length;if(!i)return!1;for(e=i-1;e>=0;e--)n=_[e],n.fired&&t<=n.position&&(n.fired=!1,y--);return!0},u=function(){var t,e,n=m._iO,i=n.from,o=n.to;return e=function(){vt._wD(m.id+': "To" time of '+o+" reached."),m.clearOnPosition(o,e),m.stop()},t=function(){vt._wD(m.id+': Playing "from" '+i),null===o||isNaN(o)||m.onPosition(o,e)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,t()),n},s=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.onPosition(parseInt(t,10),e[t])},l=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.clearOnPosition(parseInt(t,10))},a=function(){m.isHTML5&&J(m)},o=function(){m.isHTML5&&K(m)},e=function(t){t||(_=[],y=0),v=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}},e(),this._onTimer=function(t){var e,n,i=!1,o={};return(m._hasTimer||t)&&m._a&&(t||(m.playState>0||1===m.readyState)&&!m.paused)&&(e=m._get_html5_duration(),e!==c.duration&&(c.duration=e,m.duration=e,i=!0),m.durationEstimate=m.duration,n=m._a.currentTime*zt||0,n!==c.time&&(c.time=n,i=!0),(i||t)&&m._whileplaying(n,o,o,o,o)),i},this._get_html5_duration=function(){var t=m._iO,e=m._a&&m._a.duration?m._a.duration*zt:t&&t.duration?t.duration:null,n=e&&!isNaN(e)&&e!==1/0?e:null;return n},this._apply_loop=function(t,e){!t.loop&&e>1&&vt._wD("Note: Native HTML5 looping is infinite.",1),t.loop=e>1?"loop":""},this._setup_html5=function(t){var i,o=g(m._iO,t),r=qt?_t:m._a,a=decodeURI(o.url);if(qt?a===decodeURI(lt)&&(i=!0):a===decodeURI(b)&&(i=!0),r){if(r._s)if(qt)r._s&&r._s.playState&&!i&&r._s.stop();else if(!qt&&a===decodeURI(b))return m._apply_loop(r,o.loops),r;i||(b&&e(!1),r.src=o.url,m.url=o.url,b=o.url,lt=o.url,r._called_load=!1)}else o.autoLoad||o.autoPlay?(m._a=new Audio(o.url),m._a.load()):m._a=Zt&&opera.version()<10?new Audio(null):new Audio,r=m._a,r._called_load=!1,qt&&(_t=r);return m.isHTML5=!0,m._a=r,r._s=m,n(),m._apply_loop(r,o.loops),o.autoLoad||o.autoPlay?m.load():(r.autobuffer=!1,r.preload="auto"),r},n=function(){function t(t,e,n){return m._a?m._a.addEventListener(t,e,n||!1):null}if(m._a._added_events)return!1;var e;m._a._added_events=!0;for(e in ft)ft.hasOwnProperty(e)&&t(e,ft[e]);return!0},i=function(){function t(t,e,n){return m._a?m._a.removeEventListener(t,e,n||!1):null}var e;vt._wD(m.id+": Removing event listeners"),m._a._added_events=!1;for(e in ft)ft.hasOwnProperty(e)&&t(e,ft[e])},this._onload=function(t){var e,n=!!t||!m.isHTML5&&8===d&&m.duration;return e=m.id+": ",vt._wD(e+(n?"onload()":"Failed to load / invalid sound?"+(m.duration?" -":" Zero-length duration reported.")+" ("+m.url+")"),n?1:2),n||m.isHTML5||(vt.sandbox.noRemote===!0&&vt._wD(e+H("noNet"),1),vt.sandbox.noLocal===!0&&vt._wD(e+H("noLocal"),1)),m.loaded=n,m.readyState=n?3:2,m._onbufferchange(0),n||m.isHTML5||m._onerror(),m._iO.onload&&gt(m,function(){m._iO.onload.apply(m,[n])}),!0},this._onerror=function(t,e){m._iO.onerror&&gt(m,function(){m._iO.onerror.apply(m,[t,e])})},this._onbufferchange=function(t){return 0!==m.playState&&(!(t&&m.isBuffering||!t&&!m.isBuffering)&&(m.isBuffering=1===t,m._iO.onbufferchange&&(vt._wD(m.id+": Buffer state change: "+t),m._iO.onbufferchange.apply(m,[t])),!0))},this._onsuspend=function(){return m._iO.onsuspend&&(vt._wD(m.id+": Playback suspended"),m._iO.onsuspend.apply(m)),!0},this._onfailure=function(t,e,n){m.failures++,vt._wD(m.id+": Failure ("+m.failures+"): "+t),m._iO.onfailure&&1===m.failures?m._iO.onfailure(t,e,n):vt._wD(m.id+": Ignoring failure")},this._onwarning=function(t,e,n){m._iO.onwarning&&m._iO.onwarning(t,e,n)},this._onfinish=function(){var t=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(l(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},o(),m.isHTML5&&(m.position=0)),m.instanceCount&&!m._iO.multiShotEvents||t&&(vt._wD(m.id+": onfinish()"),gt(m,function(){t.apply(m)})))},this._whileloading=function(t,e,n,i){var o=m._iO;m.bytesLoaded=t,m.bytesTotal=e,m.duration=Math.floor(n),m.bufferLength=i,m.isHTML5||o.isMovieStar?m.durationEstimate=m.duration:o.duration?m.durationEstimate=m.duration>o.duration?m.duration:o.duration:m.durationEstimate=parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&o.whileloading&&o.whileloading.apply(m)},this._whileplaying=function(t,e,n,i,o){var a,s=m._iO;return!isNaN(t)&&null!==t&&(m.position=Math.max(0,t),m._processOnPosition(),!m.isHTML5&&d>8&&(s.usePeakData&&e!==r&&e&&(m.peakData={left:e.leftPeak,right:e.rightPeak}),s.useWaveformData&&n!==r&&n&&(m.waveformData={left:n.split(","),right:i.split(",")}),s.useEQData&&o!==r&&o&&o.leftEQ&&(a=o.leftEQ.split(","),m.eqData=a,m.eqData.left=a,o.rightEQ!==r&&o.rightEQ&&(m.eqData.right=o.rightEQ.split(",")))),1===m.playState&&(m.isHTML5||8!==d||m.position||!m.isBuffering||m._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(m)),!0)},this._oncaptiondata=function(t){vt._wD(m.id+": Caption data received."),m.captiondata=t,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[t])},this._onmetadata=function(t,e){vt._wD(m.id+": Metadata received.");var n,i,o={};for(n=0,i=t.length;n<i;n++)o[t[n]]=e[n];m.metadata=o,m._iO.onmetadata&&m._iO.onmetadata.call(m,m.metadata)},this._onid3=function(t,e){vt._wD(m.id+": ID3 data received.");var n,i,o=[];for(n=0,i=t.length;n<i;n++)o[t[n]]=e[n];m.id3=g(m.id3,o),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(t){t=1===t,vt._wD(m.id+": "+(t?"Connected.":"Failed to connect? - "+m.url),t?1:2),m.connected=t,t&&(m.failures=0,z(m.id)&&(m.getAutoPlay()?m.play(r,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[t]))},this._ondataerror=function(t){m.playState>0&&(vt._wD(m.id+": Data error: "+t),m._iO.ondataerror&&m._iO.ondataerror.apply(m))},this._debug()},M=function(){return Ot.body||Ot.getElementsByTagName("div")[0]},s=function(t){return Ot.getElementById(t)},g=function(t,e){var n,i,o=t||{};n=e===r?vt.defaultOptions:e;for(i in n)n.hasOwnProperty(i)&&o[i]===r&&("object"!=typeof n[i]||null===n[i]?o[i]=n[i]:o[i]=g(o[i],n[i]));return o},gt=function(t,e){t.isHTML5||8!==d?e():o.setTimeout(e,0)},v={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},m=function(t,e){var n,i=!0,o=e!==r,a=vt.setupOptions,s=v;if(t===r){i=[];for(n in a)a.hasOwnProperty(n)&&i.push(n);for(n in s)s.hasOwnProperty(n)&&("object"==typeof vt[n]?i.push(n+": {...}"):vt[n]instanceof Function?i.push(n+": function() {...}"):i.push(n));return vt._wD(H("setup",i.join(", "))),!1}for(n in t)if(t.hasOwnProperty(n))if("object"!=typeof t[n]||null===t[n]||t[n]instanceof Array||t[n]instanceof RegExp)o&&s[e]!==r?vt[e][n]=t[n]:a[n]!==r?(vt.setupOptions[n]=t[n],vt[n]=t[n]):s[n]===r?(V(H(vt[n]===r?"setupUndef":"setupError",n),2),i=!1):vt[n]instanceof Function?vt[n].apply(vt,t[n]instanceof Array?t[n]:[t[n]]):vt[n]=t[n];else{if(s[n]!==r)return m(t[n],n);V(H(vt[n]===r?"setupUndef":"setupError",n),2),i=!1}return i},st=function(){function t(t){var e=Gt.call(t),n=e.length;return r?(e[1]="on"+e[1],n>3&&e.pop()):3===n&&e.push(!1),e}function e(t,e){var n=t.shift(),i=[a[e]];r?n[i](t[0],t[1]):n[i].apply(n,t)}function n(){e(t(arguments),"add")}function i(){e(t(arguments),"remove")}var r=o.attachEvent,a={add:r?"attachEvent":"addEventListener",remove:r?"detachEvent":"removeEventListener"};return{add:n,remove:i}}(),ft={abort:i(function(){vt._wD(this._s.id+": abort")}),canplay:i(function(){var t,e=this._s;if(!e._html5_canplay){if(e._html5_canplay=!0,vt._wD(e.id+": canplay"),e._onbufferchange(0),t=e._iO.position===r||isNaN(e._iO.position)?null:e._iO.position/zt,this.currentTime!==t){vt._wD(e.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(n){vt._wD(e.id+": canplay: Setting position of "+t+" failed: "+n.message,2)}}e._iO._oncanplay&&e._iO._oncanplay()}}),canplaythrough:i(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:i(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(vt._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:i(function(){var t=this._s;vt._wD(t.id+": ended"),t._onfinish()}),error:i(function(){var t=nt[this.error.code]||null;vt._wD(this._s.id+": HTML5 error, code "+this.error.code+(t?" ("+t+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,t)}),loadeddata:i(function(){var t=this._s;vt._wD(t.id+": loadeddata"),t._loaded||Qt||(t.duration=t._get_html5_duration())}),loadedmetadata:i(function(){vt._wD(this._s.id+": loadedmetadata")}),loadstart:i(function(){vt._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:i(function(){this._s._onbufferchange(0)}),playing:i(function(){vt._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:i(function(t){var e,n,i,o=this._s,r=0,a="progress"===t.type,s=t.target.buffered,l=t.loaded||0,u=t.total||1;if(o.buffered=[],s&&s.length){for(e=0,n=s.length;e<n;e++)o.buffered.push({start:s.start(e)*zt,end:s.end(e)*zt});if(r=(s.end(0)-s.start(0))*zt,l=Math.min(1,r/(t.target.duration*zt)),a&&s.length>1){for(i=[],n=s.length,e=0;e<n;e++)i.push(t.target.buffered.start(e)*zt+"-"+t.target.buffered.end(e)*zt);vt._wD(this._s.id+": progress, timeRanges: "+i.join(", "))}a&&!isNaN(l)&&vt._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(o._whileloading(l,u,o._get_html5_duration()),l&&u&&l===u&&ft.canplaythrough.call(this,t))}),ratechange:i(function(){vt._wD(this._s.id+": ratechange")}),suspend:i(function(t){var e=this._s;vt._wD(this._s.id+": suspend"),ft.progress.call(this,t),e._onsuspend()}),stalled:i(function(){vt._wD(this._s.id+": stalled")}),timeupdate:i(function(){this._s._onTimer()}),waiting:i(function(){var t=this._s;vt._wD(this._s.id+": waiting"),t._onbufferchange(1)})},tt=function(t){var e;return e=!(!t||!(t.type||t.url||t.serverURL))&&(!(t.serverURL||t.type&&n(t.type))&&(t.type?et({type:t.type}):et({url:t.url})||vt.html5Only||t.url.match(/data:/i)))},ot=function(t){var e;return t&&(e=Qt?se:vt.html5.canPlayType("audio/wav")?le:se,
t.src=e,t._called_unload!==r&&(t._called_load=!1)),qt&&(lt=null),e},et=function(t){if(!vt.useHTML5Audio||!vt.hasHTML5)return!1;var e,i,o,a,s=t.url||null,l=t.type||null,u=vt.audioFormats;if(l&&vt.html5[l]!==r)return vt.html5[l]&&!n(l);if(!it){it=[];for(a in u)u.hasOwnProperty(a)&&(it.push(a),u[a].related&&(it=it.concat(u[a].related)));it=new RegExp("\\.("+it.join("|")+")(\\?.*)?$","i")}return o=s?s.toLowerCase().match(it):null,o&&o.length?o=o[1]:l?(i=l.indexOf(";"),o=(i!==-1?l.substr(0,i):l).substr(6)):e=!1,o&&vt.html5[o]!==r?e=vt.html5[o]&&!n(o):(l="audio/"+o,e=vt.html5.canPlayType({type:l}),vt.html5[o]=e,e=e&&vt.html5[l]&&!n(l)),e},at=function(){function t(t){var e,n,i=!1,r=!1;if(!a||"function"!=typeof a.canPlayType)return i;if(t instanceof Array){for(o=0,n=t.length;o<n;o++)(vt.html5[t[o]]||a.canPlayType(t[o]).match(vt.html5Test))&&(r=!0,vt.html5[t[o]]=!0,vt.flash[t[o]]=!!t[o].match(ae));i=r}else e=!(!a||"function"!=typeof a.canPlayType)&&a.canPlayType(t),i=!(!e||!e.match(vt.html5Test));return i}if(!vt.useHTML5Audio||!vt.hasHTML5)return vt.html5.usingFlash=!0,Wt=!0,!1;var e,n,i,o,a=Audio!==r?Zt&&opera.version()<10?new Audio(null):new Audio:null,s={};i=vt.audioFormats;for(e in i)if(i.hasOwnProperty(e)&&(n="audio/"+e,s[e]=t(i[e].type),s[n]=s[e],e.match(ae)?(vt.flash[e]=!0,vt.flash[n]=!0):(vt.flash[e]=!1,vt.flash[n]=!1),i[e]&&i[e].related))for(o=i[e].related.length-1;o>=0;o--)s["audio/"+i[e].related[o]]=s[e],vt.html5[i[e].related[o]]=s[e],vt.flash[i[e].related[o]]=s[e];return s.canPlayType=a?t:null,vt.html5=g(vt.html5,s),vt.html5.usingFlash=Z(),Wt=vt.html5.usingFlash,!0},$={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:bt+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:wt+"Verify that %s is a valid path.",tryDebug:"Try "+bt+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:wt+"Non-HTTP page ("+Ot.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:wt+"Special case: Waiting for SWF to load with window focus...",waitForever:wt+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:wt+"Waiting for 100% SWF load...",needFunction:wt+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:wt+"_debug(): Current sound objects",waitOnload:wt+"Waiting for window.onload()",docLoaded:wt+"Document already loaded",onload:wt+"initComplete(): calling soundManager.onload()",onloadOK:bt+".onload() complete",didInit:wt+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:wt+"Failed to remove Flash node.",shutdown:bt+".disable(): Shutting down",queue:wt+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+B.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:wt+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:bt+".load(): current URL already assigned.",badFV:bt+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:wt+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:wt+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:bt+".setup(): allowed parameters: %s",setupError:bt+'.setup(): "%s" cannot be assigned with this method.',setupUndef:bt+'.setup(): Could not find option "%s"',setupLate:bt+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:wt+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:bt+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},H=function(){var t,e,n,i,o;if(t=Gt.call(arguments),i=t.shift(),o=$&&$[i]?$[i]:"",o&&t&&t.length)for(e=0,n=t.length;e<n;e++)o=o.replace("%s",t[e]);return o},G=function(t){return 8===d&&t.loops>1&&t.stream&&(p("as2loop"),t.stream=!1),t},q=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(vt._wD((e||"")+H("policy")),t.usePolicyFile=!0),t},V=function(t){ne&&console.warn!==r||vt._wD(t)},l=function(){return!1},F=function(t){var e;for(e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=l);e=null},N=function(t){t===r&&(t=!1),(Mt||t)&&vt.disable(t)},E=function(t){var e,n=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(n=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return e=(t&&t.lastIndexOf("/")!==-1?t.substr(0,t.lastIndexOf("/")+1):"./")+vt.movieURL,vt.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},C=function(){d=parseInt(vt.flashVersion,10),8!==d&&9!==d&&(vt._wD(H("badFV",d,jt)),vt.flashVersion=d=jt);var t=vt.debugMode||vt.debugFlash?"_debug.swf":".swf";vt.useHTML5Audio&&!vt.html5Only&&vt.audioFormats.mp4.required&&d<9&&(vt._wD(H("needfl9")),vt.flashVersion=d=9),vt.version=vt.versionNumber+(vt.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(vt.defaultOptions=g(vt.defaultOptions,vt.flash9Options),vt.features.buffering=!0,vt.defaultOptions=g(vt.defaultOptions,vt.movieStarOptions),vt.filePatterns.flash9=new RegExp("\\.(mp3|"+fe.join("|")+")(\\?.*)?$","i"),vt.features.movieStar=!0):vt.features.movieStar=!1,vt.filePattern=vt.filePatterns[8!==d?"flash9":"flash8"],vt.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),vt.features.peakData=vt.features.waveformData=vt.features.eqData=d>8},D=function(t,e){yt&&yt._setPolling(t,e)},j=function(){if(vt.debugURLParam.test(Ct)&&(vt.setupOptions.debugMode=vt.debugMode=!0),!s(vt.debugID)){var t,e,n,i,o;if(vt.debugMode&&!s(vt.debugID)&&(!ne||!vt.useConsole||!vt.consoleOnly)){t=Ot.createElement("div"),t.id=vt.debugID+"-toggle",i={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},t.appendChild(Ot.createTextNode("-")),t.onclick=W,t.title="Toggle SM2 debug console",Pt.match(/msie 6/i)&&(t.style.position="absolute",t.style.cursor="hand");for(o in i)i.hasOwnProperty(o)&&(t.style[o]=i[o]);if(e=Ot.createElement("div"),e.id=vt.debugID,e.style.display=vt.debugMode?"block":"none",vt.debugMode&&!s(t.id)){try{n=M(),n.appendChild(t)}catch(t){throw new Error(H("domError")+" \n"+t.toString())}n.appendChild(e)}}n=null}},z=this.getSoundById,p=function(t,e){return t?vt._wD(H(t),e):""},W=function(){var t=s(vt.debugID),e=s(vt.debugID+"-toggle");t&&(It?(e.innerHTML="+",t.style.display="none"):(e.innerHTML="-",t.style.display="block"),It=!It)},f=function(t,e,n){if(o.sm2Debugger!==r)try{sm2Debugger.handleEvent(t,e,n)}catch(t){return!1}return!0},U=function(){var t=[];return vt.debugMode&&t.push(B.sm2Debug),vt.debugFlash&&t.push(B.flashDebug),vt.useHighPerformance&&t.push(B.highPerf),t.join(" ")},R=function(){var t=H("fbHandler"),e=vt.getMoviePercent(),n=B,i={type:"FLASHBLOCK"};vt.html5Only||(vt.ok()?(vt.didFlashBlock&&vt._wD(t+": Unblocked"),vt.oMC&&(vt.oMC.className=[U(),n.swfDefault,n.swfLoaded+(vt.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Wt&&(vt.oMC.className=U()+" "+n.swfDefault+" "+(null===e?n.swfTimedout:n.swfError),vt._wD(t+": "+H("fbTimeout")+(e?" ("+H("fbLoaded")+")":""))),vt.didFlashBlock=!0,y({type:"ontimeout",ignoreInit:!0,error:i}),k(i)))},_=function(t,e,n){$t[t]===r&&($t[t]=[]),$t[t].push({method:e,scope:n||null,fired:!1})},y=function(t){if(t||(t={type:vt.ok()?"onready":"ontimeout"}),!Tt&&t&&!t.ignoreInit)return!1;if("ontimeout"===t.type&&(vt.ok()||Mt&&!t.ignoreInit))return!1;var e,n,i={success:t&&t.ignoreInit?vt.ok():!Mt},o=t&&t.type?$t[t.type]||[]:[],r=[],a=[i],s=Wt&&!vt.ok();for(t.error&&(a[0].error=t.error),e=0,n=o.length;e<n;e++)o[e].fired!==!0&&r.push(o[e]);if(r.length)for(e=0,n=r.length;e<n;e++)r[e].scope?r[e].method.apply(r[e].scope,a):r[e].method.apply(this,a),s||(r[e].fired=!0);return!0},b=function(){o.setTimeout(function(){vt.useFlashBlock&&R(),y(),"function"==typeof vt.onload&&(p("onload",1),vt.onload.apply(o),p("onloadOK",1)),vt.waitForWindowLoad&&st.add(o,"load",b)},1)},ct=function(){if(ut!==r)return ut;var t,e,n,i,a=!1,s=navigator,l=o.ActiveXObject;try{i=s.plugins}catch(t){i=void 0}if(i&&i.length)e="application/x-shockwave-flash",n=s.mimeTypes,n&&n[e]&&n[e].enabledPlugin&&n[e].enabledPlugin.description&&(a=!0);else if(l!==r&&!Pt.match(/MSAppHost/i)){try{t=new l("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}a=!!t,t=null}return ut=a,a},Z=function(){var t,e,n=vt.audioFormats,i=Jt&&!!Pt.match(/os (1|2|3_0|3_1)\s/i);if(i?(vt.hasHTML5=!1,vt.html5Only=!0,vt.oMC&&(vt.oMC.style.display="none")):vt.useHTML5Audio&&(vt.html5&&vt.html5.canPlayType||(vt._wD("SoundManager: No HTML5 Audio() support detected."),vt.hasHTML5=!1),ee&&vt._wD(wt+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ut?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),vt.useHTML5Audio&&vt.hasHTML5){Q=!0;for(e in n)n.hasOwnProperty(e)&&n[e].required&&(vt.html5.canPlayType(n[e].type)?vt.preferFlash&&(vt.flash[e]||vt.flash[n[e].type])&&(t=!0):(Q=!1,t=!0))}return vt.ignoreFlash&&(t=!1,Q=!0),vt.html5Only=vt.hasHTML5&&vt.useHTML5Audio&&!t,!vt.html5Only},Y=function(t){var e,n,i,o=0;if(t instanceof Array){for(e=0,n=t.length;e<n;e++)if(t[e]instanceof Object){if(vt.canPlayMIME(t[e].type)){o=e;break}}else if(vt.canPlayURL(t[e])){o=e;break}t[o].url&&(t[o]=t[o].url),i=t[o]}else i=t;return i},J=function(t){t._hasTimer||(t._hasTimer=!0,!te&&vt.html5PollingInterval&&(null===Ut&&0===Rt&&(Ut=setInterval(X,vt.html5PollingInterval)),Rt++))},K=function(t){t._hasTimer&&(t._hasTimer=!1,!te&&vt.html5PollingInterval&&Rt--)},X=function(){var t;if(null!==Ut&&!Rt)return clearInterval(Ut),void(Ut=null);for(t=vt.soundIDs.length-1;t>=0;t--)vt.sounds[vt.soundIDs[t]].isHTML5&&vt.sounds[vt.soundIDs[t]]._hasTimer&&vt.sounds[vt.soundIDs[t]]._onTimer()},k=function(t){t=t!==r?t:{},"function"==typeof vt.onerror&&vt.onerror.apply(o,[{type:t.type!==r?t.type:null}]),t.fatal!==r&&t.fatal&&vt.disable()},dt=function(){if(ee&&ct()){var t,e,n=vt.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(vt._wD(bt+": Using flash fallback for "+e+" format"),vt.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;t>=0;t--)vt.html5[n[e].related[t]]=!1}},this._setSandboxType=function(t){var e=vt.sandbox;e.type=t,e.description=e.types[e.types[t]!==r?t:"unknown"],"localWithFile"===e.type?(e.noRemote=!0,e.noLocal=!1,p("secNote",2)):"localWithNetwork"===e.type?(e.noRemote=!1,e.noLocal=!0):"localTrusted"===e.type&&(e.noRemote=!1,e.noLocal=!1)},this._externalInterfaceOK=function(t){if(!vt.swfLoaded){var e;return f("swf",!0),f("flashtojs",!0),vt.swfLoaded=!0,oe=!1,ee&&dt(),t&&t.replace(/\+dev/i,"")===vt.versionNumber.replace(/\+dev/i,"")?void setTimeout(c,Xt?100:1):(e=bt+': Fatal: JavaScript file build "'+vt.versionNumber+'" does not match Flash SWF build "'+t+'" at '+vt.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(e)},0))}},L=function(t,e){function n(){var t,e=[],n=[],i=" + ";t="SoundManager "+vt.version+(!vt.html5Only&&vt.useHTML5Audio?vt.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),vt.html5Only?vt.html5PollingInterval&&e.push("html5PollingInterval ("+vt.html5PollingInterval+"ms)"):(vt.preferFlash&&e.push("preferFlash"),vt.useHighPerformance&&e.push("useHighPerformance"),vt.flashPollingInterval&&e.push("flashPollingInterval ("+vt.flashPollingInterval+"ms)"),vt.html5PollingInterval&&e.push("html5PollingInterval ("+vt.html5PollingInterval+"ms)"),vt.wmode&&e.push("wmode ("+vt.wmode+")"),vt.debugFlash&&e.push("debugFlash"),vt.useFlashBlock&&e.push("flashBlock")),e.length&&(n=n.concat([e.join(i)])),vt._wD(t+(n.length?i+n.join(", "):""),1),pt()}function i(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(xt&&At)return!1;if(vt.html5Only)return C(),n(),vt.oMC=s(vt.movieID),c(),xt=!0,At=!0,!1;var o,a,l,u,d,f,p,h,g=e||vt.url,m=vt.altURL||g,v="JS/Flash audio component (SoundManager 2)",_=M(),y=U(),b=null,w=Ot.getElementsByTagName("html")[0];if(b=w&&w.dir&&w.dir.match(/rtl/i),t=t===r?vt.id:t,C(),vt.url=E(ue?g:m),e=vt.url,vt.wmode=!vt.wmode&&vt.useHighPerformance?"transparent":vt.wmode,null!==vt.wmode&&(Pt.match(/msie 8/i)||!Xt&&!vt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Bt.push($.spcWmode),vt.wmode=null),o={name:t,id:t,src:e,quality:"high",allowScriptAccess:vt.allowScriptAccess,bgcolor:vt.bgColor,pluginspage:ce+"www.macromedia.com/go/getflashplayer",title:v,type:"application/x-shockwave-flash",wmode:vt.wmode,hasPriority:"true"},vt.debugFlash&&(o.FlashVars="debug=1"),vt.wmode||delete o.wmode,Xt)a=Ot.createElement("div"),u=['<object id="'+t+'" data="'+e+'" type="'+o.type+'" title="'+o.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",e),i("AllowScriptAccess",vt.allowScriptAccess),i("quality",o.quality),vt.wmode?i("wmode",vt.wmode):"",i("bgcolor",vt.bgColor),i("hasPriority","true"),vt.debugFlash?i("FlashVars",o.FlashVars):"","</object>"].join("");else{a=Ot.createElement("embed");for(l in o)o.hasOwnProperty(l)&&a.setAttribute(l,o[l])}if(j(),y=U(),_=M())if(vt.oMC=s(vt.movieID)||Ot.createElement("div"),vt.oMC.id)h=vt.oMC.className,vt.oMC.className=(h?h+" ":B.swfDefault)+(y?" "+y:""),vt.oMC.appendChild(a),Xt&&(d=vt.oMC.appendChild(Ot.createElement("div")),d.className=B.swfBox,d.innerHTML=u),At=!0;else{if(vt.oMC.id=vt.movieID,vt.oMC.className=B.swfDefault+" "+y,f=null,d=null,vt.useFlashBlock||(vt.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},b&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Yt&&(vt.oMC.style.zIndex=1e4),!vt.debugFlash)for(p in f)f.hasOwnProperty(p)&&(vt.oMC.style[p]=f[p]);try{Xt||vt.oMC.appendChild(a),_.appendChild(vt.oMC),Xt&&(d=vt.oMC.appendChild(Ot.createElement("div")),d.className=B.swfBox,d.innerHTML=u),At=!0}catch(t){throw new Error(H("domError")+" \n"+t.toString())}}return xt=!0,n(),!0},I=function(){return vt.html5Only?(L(),!1):!yt&&(vt.url?(yt=vt.getMovie(vt.id),yt||(Ft?(Xt?vt.oMC.innerHTML=Nt:vt.oMC.appendChild(Ft),Ft=null,xt=!0):L(vt.id,vt.url),yt=vt.getMovie(vt.id)),"function"==typeof vt.oninitmovie&&setTimeout(vt.oninitmovie,1),ht(),!0):(p("noURL"),!1))},w=function(){setTimeout(S,1e3)},P=function(){o.setTimeout(function(){V(wt+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),vt.setup({preferFlash:!1}).reboot(),vt.didFlashBlock=!0,vt.beginDelayedInit()},1)},S=function(){var t,e=!1;if(vt.url&&!Et){if(Et=!0,st.remove(o,"load",w),ut&&oe&&!ie)return void p("waitFocus");Tt||(t=vt.getMoviePercent(),t>0&&t<100&&(e=!0)),setTimeout(function(){return t=vt.getMoviePercent(),e?(Et=!1,vt._wD(H("waitSWF")),void o.setTimeout(w,1)):(Tt||(vt._wD(bt+": No Flash response within expected time. Likely causes: "+(0===t?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(vt.debugFlash?" "+H("checkSWF"):""),2),!ue&&t&&(p("localFail",2),vt.debugFlash||p("tryDebug",2)),0===t&&vt._wD(H("swf404",vt.url),1),f("flashtojs",!1,": Timed out"+(ue?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),void(!Tt&&re&&(null===t?vt.useFlashBlock||0===vt.flashLoadTimeout?(vt.useFlashBlock&&R(),p("waitForever")):!vt.useFlashBlock&&Q?P():(p("waitForever"),y({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===vt.flashLoadTimeout?p("waitForever"):!vt.useFlashBlock&&Q?P():N(!0))))},vt.flashLoadTimeout)}},O=function(){function t(){st.remove(o,"focus",O)}return ie||!oe?(t(),!0):(re=!0,ie=!0,p("gotFocus"),Et=!1,w(),t(),!0)},ht=function(){Bt.length&&(vt._wD("SoundManager 2: "+Bt.join(" "),1),Bt=[])},pt=function(){ht();var t,e=[];if(vt.useHTML5Audio&&vt.hasHTML5){for(t in vt.audioFormats)vt.audioFormats.hasOwnProperty(t)&&e.push(t+" = "+vt.html5[t]+(!vt.html5[t]&&Wt&&vt.flash[t]?" (using flash)":vt.preferFlash&&vt.flash[t]&&Wt?" (preferring flash)":vt.html5[t]?"":" ("+(vt.audioFormats[t].required?"required, ":"")+"and no flash support)"));vt._wD("SoundManager 2 HTML5 support: "+e.join(", "),1)}},h=function(t){if(Tt)return!1;if(vt.html5Only)return p("sm2Loaded",1),Tt=!0,b(),f("onload",!0),!0;var e,n=vt.useFlashBlock&&vt.flashLoadTimeout&&!vt.getMoviePercent(),i=!0;return n||(Tt=!0),e={type:!ut&&Wt?"NO_FLASH":"INIT_TIMEOUT"},vt._wD("SoundManager 2 "+(Mt?"failed to load":"loaded")+" ("+(Mt?"Flash security/load error":"OK")+") "+String.fromCharCode(Mt?10006:10003),Mt?2:1),Mt||t?(vt.useFlashBlock&&vt.oMC&&(vt.oMC.className=U()+" "+(null===vt.getMoviePercent()?B.swfTimedout:B.swfError)),y({type:"ontimeout",error:e,ignoreInit:!0}),f("onload",!1),k(e),i=!1):f("onload",!0),Mt||(vt.waitForWindowLoad&&!Lt?(p("waitOnload"),st.add(o,"load",b)):(vt.waitForWindowLoad&&Lt&&p("docLoaded"),b())),i},u=function(){var t,e=vt.setupOptions;for(t in e)e.hasOwnProperty(t)&&(vt[t]===r?vt[t]=e[t]:vt[t]!==e[t]&&(vt.setupOptions[t]=vt[t]))},c=function(){function t(){st.remove(o,"load",vt.beginDelayedInit)}if(Tt)return p("didInit"),!1;if(vt.html5Only)return Tt||(t(),vt.enabled=!0,h()),!0;I();try{yt._externalInterfaceTest(!1),D(!0,vt.flashPollingInterval||(vt.useHighPerformance?10:50)),vt.debugMode||yt._disableDebug(),vt.enabled=!0,f("jstoflash",!0),vt.html5Only||st.add(o,"unload",l)}catch(t){return vt._wD("js/flash exception: "+t.toString()),f("jstoflash",!1),k({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),N(!0),h(),!1}return h(),t(),!0},x=function(){return!T&&(T=!0,u(),j(),!ut&&vt.hasHTML5&&(vt._wD("SoundManager 2: No Flash detected"+(vt.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),vt.setup({useHTML5Audio:!0,preferFlash:!1})),at(),!ut&&Wt&&(Bt.push($.needFlash),vt.setup({flashLoadTimeout:1})),Ot.removeEventListener&&Ot.removeEventListener("DOMContentLoaded",x,!1),I(),!0)},rt=function(){return"complete"===Ot.readyState&&(x(),Ot.detachEvent("onreadystatechange",rt)),!0},A=function(){Lt=!0,x(),st.remove(o,"load",A)},ct(),st.add(o,"focus",O),st.add(o,"load",w),st.add(o,"load",A),Ot.addEventListener?Ot.addEventListener("DOMContentLoaded",x,!1):Ot.attachEvent?Ot.attachEvent("onreadystatechange",rt):(f("onload",!1),k({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!o||!o.document)throw new Error("SoundManager requires a browser with window and document objects.");var s=null;o.SM2_DEFER!==r&&SM2_DEFER||(s=new a),"object"==typeof t&&t&&"object"==typeof t.exports?(t.exports.SoundManager=a,t.exports.soundManager=s):(i=function(){function t(t){if(!o.soundManager&&t instanceof Function){var e=t(a);e instanceof a&&(o.soundManager=e)}return o.soundManager}return{constructor:a,getInstance:t}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))),o.SoundManager=a,o.soundManager=s}(window)}).call(e,n(21)(t))},,function(t,e,n){(function(t){!function(){var e=n(3);n(18);var i=n(24);soundManager.players=[],soundManager.Plugins=function(t){this.id=t};var o=function(n){function o(){var e=$("#"+n.container),i=$('<div class="plugins-container"></div>');e.append(i);var o=new soundManager.Plugins(H.id),r=["prev","playpause","next","meta","progressbar","loop","volume"];t.each(r,function(e){var n={};n[e]=o["build"+e](H,i),t.assign(H.plugins,n)});for(var a in o)if(/^build/.test(a)){var s=!0;if(t.each(r,function(t){a==="build"+t&&(s=!1)}),s){var l=a.slice(5),u={};u[l]=o[a](H,i),t.assign(H.plugins,u)}}return H.plugins}function r(e){if(soundManager.canPlayURL(e.url)){if(H.song){var n=!1,i=null;t.each(soundManager.sounds,function(t){t.url===e.url&&(n=!0,i=t)}),n?H.song=i:H.song=a(e.url)}else H.song=a(e.url);return H.song}}function a(t){return soundManager.createSound({url:t,autoLoad:!0,autoPlay:!1,from:null,loops:1,multiShot:!0,multiShotEvents:!1,onid3:null,onload:l,onstop:u,onfinish:c,onpause:d,onplay:f,onresume:p,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:H.song?H.song.volume:100,whileloading:h,whileplaying:g,onerror:s})}function s(t){H.playlist.items.length>2&&(e.tip("歌曲资源加载失败,即将为你切换至下一首"),setTimeout(function(){H.plugins.next.click()},3e3))}function l(){P.call(this);"function"==typeof n.onload&&n.onload()}function u(){}function c(){switch(H.loopType){case 1:H.unload(H.song),H.song=H.load(H.next()),H.play(H.song);break;case 2:H.song.setPosition(0),H.play(H.song);break;case 3:H.unload(H.song),H.song=H.load(H.next()),H.play(H.song)}P.call(this),"function"==typeof n.onfinish&&n.onfinish()}function d(){"function"==typeof n.onpause&&n.onpause()}function f(){P.call(this,1),P.call(this,2),"function"==typeof n.onplay&&n.onplay()}function p(){"function"==typeof n.onresume&&n.onresume()}function h(){}function g(){P.call(this,3),P.call(this,4),m.call(this)}function m(){var t=H.plugins.progressbar,e=t.width(),n=t.find(".cp-progressbar"),i=this.position,o=this.durationEstimate,r=y(i,o,e);return _(r),v.call(this),n.css("width",r)}function v(){var t=H.plugins.progressbar,e=(t.width(),t.find(".cp-progressbar-bufferslider"));if(0==this.buffered.length)return e.css("width","100%");var n=this.bytesLoaded/this.bytesTotal;return e.css("width",Math.round(1e4*n)/100+"%")}function _(t){var e=H.plugins.progressbar,n=e.find(".cp-progressbar-slider"),i=n.width();return n.css("left",t-i/2)}function y(t,e,n){var i=n/(e/1e3),o=t/1e3*i;return o}function b(t,e,n,i){var o=e/i,r=n*o;return r}function w(e,n){var i=e*n/100;return t.round(i)}function S(e,n){var i=100*e/n;return t.round(i)}function P(t){var e={},n=H.playlist.items[0].id,i=H.playlist.items[0].name,o=H.playlist.items[0].singerInfo?H.playlist.items[0].singerInfo.split(","):[],r=O(this.position),a=[];$.each(o,function(){a.push('<a href="'+MUSIC_CONFIG.APP_BASE_PATH+"/music/artist/"+this.split(":")[0]+'" target="_blank">'+this.split(":")[1]+"</a>")});var s=O(this.durationEstimate),l=(this.volume,this.url,this.bytesLoaded,this.bytesTotal,H.plugins.meta);switch(t=t||""){case 1:e.name=i,l.find(".cp-meta-song").text(e.name).attr("href",MUSIC_CONFIG.APP_BASE_PATH+"/music/song/"+n),l.find(".cp-meta-hyphen").show();break;case 2:e.singer=o,l.find(".cp-meta-singer").html(a.join(","));break;case 3:e.position=r,l.find(".cp-meta-position").text(e.position);break;case 4:e.duration=s,l.find(".cp-meta-duration").text(e.duration);break;default:e.id=n,e.name=i,e.singer=o,e.position=r,e.duration=s,l.find(".cp-meta-song").text(e.name).attr("href",MUSIC_CONFIG.APP_BASE_PATH+"/music/song/"+n),l.find(".cp-meta-singer").html(a.join(",")),l.find(".cp-meta-position").text(e.position),l.find(".cp-meta-duration").text(e.duration),l.find(".cp-meta-hyphen").show()}return e}function C(){var t=H.plugins.playpause,e=H.plugins.progressbar,n=e.find(".cp-progressbar-slider").width(),i=H.plugins.meta;t.addClass("cp-play").removeClass("cp-pause"),t.html(U.play),e.find(".cp-progressbar").css("width",0),e.find(".cp-progressbar-slider").css("left",-n/2),i.find(".cp-meta-song").text(""),i.find(".cp-meta-singer").text(""),i.find(".cp-meta-position").text("00:00"),i.find(".cp-meta-duration").text("00:00"),i.find(".cp-meta-hyphen").hide()}function O(e){var n=t.round(e/1e3),i=t.floor(n/3600),o=t.floor((n-3600*i)/60),r=n-3600*i-60*o;return i<10&&(i="0"+i),o<10&&(o="0"+o),r<10&&(r="0"+r),"00"===i?o+":"+r:i+":"+o+":"+r}function I(t,n,o){if(n||o||(delete t.isCrbt,delete t.url),t.isCrbt?$("#cafePlayer_migu_music_crbt").addClass("on").siblings().removeClass("on"):$("#cafePlayer_migu_music_gq").addClass("on").siblings().removeClass("on"),t.url?n&&(i.resetLyrics(),i.createLyric("")):($(".lyric-loading").show(),i.resetLyrics(),$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/audioplayer/playurl/"+t.id,async:!1,timeout:1e4}).then(function(e){t.url=encodeURI(decodeURIComponent(e.songAuditionUrl)).replace(/\+/g,"%2B"),t.crbtUrl=encodeURI(decodeURIComponent(e.songCrbtUrl)).replace(/\+/g,"%2B"),t.albumName=e.albumName,t.pic=e.largePic,t.copyrightId=e.copyrightId,t.singerName=e.singerName,t.type="audio/mp3",$("#cafePlayer_migu_music_gq").hasClass("on")?i.createLyric(e.dynamicLyric):i.createLyric("")}).fail(function(){H.playlist.items.length>2&&(e.tip("歌曲资源加载失败,即将为你切换至下一首"),setTimeout(function(){H.plugins.next.click()},3e3)),$(".lyric-refresh").show()}).always(function(){$(".lyric-loading").hide()})),t.url)return r(t)}function x(t){return t.setPosition(0),t.unload()}function A(t){return t.play()}function T(t){return t.pause()}function M(t){return t.resume()}function L(t){return x(t)}function k(){switch(H.loopType){case 1:H.playlist.shuffled&&(H.playlist.reset(),H.playlist.shuffled=!1);var e=H.playlist.items.shift();H.playlist.items.push(e);break;case 2:var e=H.playlist.items.shift();H.playlist.items.push(e);break;case 3:H.playlist.shuffle()}return t.first(H.playlist.items)}function D(){switch(H.loopType){case 1:H.playlist.shuffled&&(H.playlist.reset(),H.playlist.shuffled=!1);var e=H.playlist.items.pop();H.playlist.items.unshift(e);break;case 2:var e=H.playlist.items.pop();H.playlist.items.unshift(e);break;default:H.playlist.shuffle()}return t.first(H.playlist.items)}function j(e,n){var i=[];return N(1,e,function(e){e.diff&&(t.each(e.diff,function(t){i.push(t),H.playlist.items.push(t)}),H.playlist.storage.update(i)),n&&(H.song&&L(H.song),H.playlist.resetAll(),0===e.sameIndex?(H.playlist.reset(e.same[0]),setTimeout(function(){H.plugins.playpause.click()},100)):(H.playlist.reset(e.diff[0]),setTimeout(function(){H.plugins.playpause.click()},100)))}),H.playlist.items}function F(e){var n,i=JSON.parse(H.playlist.storage.get(H.id)),o=0,r=0,a=0;return N(2,e,function(e){if(H.song)if(o=t.findIndex(e.same,function(t){return t.url===H.song.url||t.crbtUrl===H.song.url}),o!==-1){for(L(H.song),r=e.same[o].index,a=o;a<e.same.length-1&&e.same[a+1].index===e.same[a].index+1;a+=1)r+=1;n=H.playlist.items[r+1],t.pullAt(H.playlist.items,e.sameIndex),t.pullAt(i,e.sameStorageIndex),H.playlist.storage.set(H.id,i),H.playlist.items.length?(H.playlist.reset(n),setTimeout(function(){H.plugins.playpause.click()},100)):(C(),H.song="")}else t.pullAt(H.playlist.items,e.sameIndex),t.pullAt(i,e.sameStorageIndex),H.playlist.storage.set(H.id,i);else t.pullAt(H.playlist.items,e.sameIndex),t.pullAt(i,e.sameStorageIndex),H.playlist.storage.set(H.id,i)}),H.playlist.items}function N(e,n,i){var o=JSON.parse(H.playlist.storage.get(H.id)),r=[],a=[],s=-1,l=!0;if(!t.isArray(n)){var u=[];u.push(n),n=u}switch(e){case 1:o?t.each(n,function(e,n){t.each(o,function(t){e.id===t.id&&(0===n&&(s=n),r.push(e),l=!1)}),l&&a.push(e),l=!0}):a=n,i({sameIndex:s,same:r,diff:a});break;case 2:var c=[],d=[],r=[],s=[];t.each(o,function(e,i){t.each(n,function(t){t===e.id&&(d.push(i),c.push({index:i,url:e.url}))})}),t.each(H.playlist.items,function(e,i){t.each(n,function(t){t===e.id&&(s.push(i),r.push({index:i,url:e.url,crbtUrl:e.crbtUrl}))})}),i({sameStorageIndex:d,sameStorage:c,sameIndex:s,same:r})}}function E(){this.id=H.id}var H={id:"cafePlayer_migu_music",name:"miguPlayer",player:{name:"SoundManager2",flashVersion:soundManager.flashVersion,version:soundManager.versionNumber},song:null,loopType:1,plugins:{}},R={"zh-CN":{play:"播放",pause:"暂停",resume:"继续",stop:"停止",prev:"上一首",next:"下一首",order:"列表循环",repeat:"单曲循环",shuffle:"随机循环",volume:"音量"}},U={play:R["zh-CN"].play,pause:R["zh-CN"].pause,resume:R["zh-CN"].resume,stop:R["zh-CN"].stop,prev:R["zh-CN"].prev,next:R["zh-CN"].next,order:R["zh-CN"].order,repeat:R["zh-CN"].repeat,shuffle:R["zh-CN"].shuffle,volume:R["zh-CN"].volume},B={play:"播放/暂停",prev:"上一首",next:"下一首",order:"顺序播放",repeat:"单曲循环",shuffle:"随机播放",volume:"关闭声音"};return t.assign(U,n.icons),H.initPlugins=o,H.playlist={items:[],shuffled:!1,shuffle:function(){for(var e=t.shuffle(H.playlist.items);H.playlist.items[0]===e[0];)e=t.shuffle(H.playlist.items);H.playlist.items=e,this.shuffled=!0},reset:function(e){if(e){var n;n=t.isNumber(e)?e:t.findIndex(H.playlist.items,"id",e.id);var i=H.playlist.items.slice(n),o=H.playlist.items.slice(0,n);H.playlist.items=t(i).concat(o).value()}else{var r=H.playlist.items[0];if(r){var a=JSON.parse(H.playlist.storage.get(H.id)),s=t.findIndex(a,r),i=a.slice(s),o=a.slice(0,s);H.playlist.items=t(i).concat(o).value()}}return H.playlist.items},resetAll:function(){var t=JSON.parse(H.playlist.storage.get(H.id));H.playlist.items=t},storage:{set:function(t,e){return $.jStorage.set("playlist#"+t,JSON.stringify(e))},get:function(t){return $.jStorage.get("playlist#"+t)},clear:function(t){return $.jStorage.deleteKey("playlist#"+t)},update:function(t){this.get(H.id)||this.set(H.id,[]);var e=JSON.parse(this.get(H.id)),n=t.concat(e);this.set(H.id,n)}}},H.create=r,H.createSong=a,H.load=I,H.unload=x,H.play=A,H.pause=T,H.resume=M,H.stop=L,H.next=k,H.prev=D,H.add=j,H.del=F,H.Plugins=E,t.assign(soundManager.Plugins.prototype,{buildplaypause:function(e,n){var i=this.id,o="cp-inline-element cp-playpause cp-play",r=$('<button type="button"></button>');return r.html(U.play),r.attr({id:i+"_playpause",class:o,title:B.play}),n.append(r),r.on("click",function(){0!==e.playlist.items.length&&($("#cafePlayer_migu_music_crbt").hasClass("on")?e.song=e.load(t.first(e.playlist.items),!0):e.song=e.load(t.first(e.playlist.items),!1,!0),e.song&&0===e.song.playState?(e.play(e.song),r.addClass("cp-pause").removeClass("cp-play"),r.html(U.pause)):e.song&&e.song.paused?(e.resume(e.song),r.addClass("cp-pause").removeClass("cp-play"),r.html(U.pause)):(e.pause(e.song),r.addClass("cp-play").removeClass("cp-pause"),r.html(U.resume)))}),r},clearplaypause:function(){}}),t.assign(soundManager.Plugins.prototype,{buildprev:function(t,e){var n=this.id,i="cp-inline-element cp-prev",o=$('<button type="button"></button>');return o.html(U.prev),o.attr({id:n+"_prev",class:i,title:B.prev}),e.append(o),o.on("click",function(){if(!o.data("disable")&&(o.data("disable",!0),setTimeout(function(){o.data("disable",!1)},1200),0!==t.playlist.items.length)){var n=e.find(".cp-playpause");n.html(U.pause),t.song&&t.unload(t.song),t.song=t.load(t.prev()),t.play(t.song)}}),o},clearprev:function(){}}),t.assign(soundManager.Plugins.prototype,{buildnext:function(t,e){var n=this.id,i="cp-inline-element cp-next",o=$('<button type="button"></button>'),r=e.find(".cp-playpause");return o.html(U.next),o.attr({id:n+"_next",class:i,title:B.next}),e.append(o),o.on("click",function(){o.data("disable")||(o.data("disable",!0),setTimeout(function(){o.data("disable",!1)},1200),0!==t.playlist.items.length&&(r.html(U.pause),t.song&&t.unload(t.song),t.song=t.load(t.next()),t.play(t.song)))}),o},clearnext:function(){}}),t.assign(soundManager.Plugins.prototype,{buildloop:function(t,e){var n=this.id,i="cp-inline-element cp-loop",o=$('<button type="button"></button>');return o.html(U.order),o.attr({id:n+"_loop",class:i+" cp-loop-order"}),e.append(o),o.on("click",function(){var e=t.loopType;switch(e){case 1:o.html(U.repeat).attr({class:i+" cp-loop-repeat",title:B.repeat}),t.loopType=2;break;case 2:o.html(U.shuffle).attr({class:i+" cp-loop-shuffle",
title:B.shuffle}),t.loopType=3;break;case 3:o.html(U.order).attr({class:i+" cp-loop-order",title:B.order}),t.loopType=1}}),o},clearloop:function(){}}),t.assign(soundManager.Plugins.prototype,{buildmeta:function(t,e){var n=this.id,i="cp-inline-element cp-meta",o=$("<div></div>"),r=$('<div class="cp-meta-group cp-meta-group1"></div>'),a=$('<a class="cp-meta-song" target="_blank"></a>'),s=$('<span class="cp-meta-hyphen"> - </span>'),l=$('<div class="cp-meta-group cp-meta-group2"></div>'),u=$('<span class="cp-meta-singer"></span>'),c=$('<span class="cp-meta-position">00:00</span>'),d=$('<span class="cp-meta-slash">/</span>'),f=$('<span class="cp-meta-duration">00:00</span>');return r.append(a).append(s).append(u),l.append(c).append(d).append(f),o.append(r).append(l),o.attr({id:n+"_meta",class:i}),e.append(o),o},clearmeta:function(){}}),t.assign(soundManager.Plugins.prototype,{buildprogressbar:function(t,e){function n(e){var n=o(e);t.song.setPosition(n),f.css("opacity",0),d.css("opacity",1),c.css("opacity",0),u.css("opacity",1),$(document).off("mousemove"),$(document).off("mouseup")}function i(t){t.preventDefault(),d.css("opacity",0),f.css("opacity",1),u.css("opacity",0),c.css("opacity",1);var e=l.outerWidth(!0),n=s.width(),i=t.clientX,o=e-i,r=s.offset().left,a=e-r-n,h=i-r,g=h-d.width()/2;if(i>=r&&o>=a&&g<=p.width()-7.5)return c.css("width",h),u.css("width",h),f.css("left",g),d.css("left",g),g}function o(e){e.stopPropagation();var n=e.clientX,i=s.offset().left,o=s.width(),r=n-i,a=b(t.song.position,t.song.duration,r,o);return a}var r=this.id,a="cp-inline-element cp-progressbar-container",s=$("<div></div>"),l=$("body"),u=$('<div class="cp-progressbar"></div>'),c=$('<div class="cp-progressvbar"></div>'),d=$('<div class="cp-progressbar-slider"></div>'),f=$('<div class="cp-progressbar-vslider"></div>'),p=$('<div class="cp-progressbar-bufferslider"></div>');return s.append(u).append(c).append(f).append(d).append(p),s.attr({id:r+"_progressbar_container",class:a}),e.append(s),d.on("mousedown",function(t){$(document).on("mousemove",i).on("mouseup",n)}),s.on("click",n),s},clearprogressbar:function(){}}),t.assign(soundManager.Plugins.prototype,{buildvolume:function(t,e){function n(t){$(document).on("mousemove",i).on("mouseup",o)}function i(t){var e=(h.outerWidth(!0),p.width()),n=v.width(),o=t.clientX,r=p.offset().left,u=o-r;return u!==-n/2&&u!==e+n/2-1||v.off("mousemove",i),u<0&&(u=0),u>e&&(u=e),_=S(u,e),a(_),s(u),l(u),u}function o(t){i(t),$(document).off("mousemove"),$(document).off("mouseup")}function r(){var t=w(_,p.width());a(_),s(t),l(t)}function a(t){soundManager.setVolume(t),0===t?g.addClass("cp-volume-muted").html(U.muted):g.removeClass("cp-volume-muted").html(U.volume),$.jStorage.set("m_vol",t)}function s(t){v.css("left",t-v.width()/2)}function l(t){m.css("width",t)}var u=this.id,c="cp-inline-element cp-volume-container-wrapper",d=$("<div></div>"),f=$('<div class="cp-volume-container"><div class="cp-vol-inner"></div></div>'),p=f.find(".cp-vol-inner"),h=$("body"),g=$('<span class="cp-volume-icon" title="关闭声音"></span>').html(U.volume),m=$('<div class="cp-volume"></div>'),v=$('<div class="cp-volume-slider"></div>'),_=Number($.jStorage.get("m_vol",50)),y=!1;return p.append(m).append(v),d.append(f).prepend(g),d.attr({id:u+"_volume_container_wrapper",class:c}),e.append(d),r(),g.on("click",function(){if(y){var t=w(_,p.width());a(_),l(t),s(t),y=!1}else a(0),l(0),s(0),y=!0}),f.on("mousedown",n),p},clearvolume:function(){}}),soundManager.players.push(H),H};window.cafePlayer=window.cafePlayer?void 0:o}()}).call(e,n(23))},function(t,e,n){var i;(function(t,o,r){(function(){function r(t,e){if(t!==e){var n=null===t,i=t===I,o=t===t,r=null===e,a=e===I,s=e===e;if(t>e&&!r||!o||n&&!a&&s||i&&s)return 1;if(t<e&&!n||!s||r&&!i&&o||a&&o)return-1}return 0}function a(t,e,n){for(var i=t.length,o=n?i:-1;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function s(t,e,n){if(e!==e)return _(t,n);for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function l(t){return"function"==typeof t||!1}function u(t){return null==t?"":t+""}function c(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function d(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function f(t,e){return r(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u){if(i>=l)return u;var c=n[i];return u*("asc"===c||c===!0?1:-1)}}return t.index-e.index}function h(t){return Vt[t]}function g(t){return zt[t]}function m(t,e,n){return e?t=Xt[t]:n&&(t=Yt[t]),"\\"+t}function v(t){return"\\"+Yt[t]}function _(t,e,n){for(var i=t.length,o=e+(n?0:-1);n?o--:++o<i;){var r=t[o];if(r!==r)return o}return-1}function y(t){return!!t&&"object"==typeof t}function b(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function w(t,e){for(var n=-1,i=t.length,o=-1,r=[];++n<i;)t[n]===e&&(t[n]=V,r[++o]=n);return r}function S(t,e){for(var n,i=-1,o=t.length,r=-1,a=[];++i<o;){var s=t[i],l=e?e(s,i,t):s;i&&n===l||(n=l,a[++r]=s)}return a}function P(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function C(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function O(t){return Jt[t]}function $(t){function e(t){if(y(t)&&!As(t)&&!(t instanceof o)){if(t instanceof i)return t;if(ea.call(t,"__chain__")&&ea.call(t,"__wrapped__"))return pi(t)}return new i(t)}function n(){}function i(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xa,this.__views__=[]}function b(){var t=new o(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Z(){if(this.__filtered__){var t=new o(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function it(){var t=this.__wrapped__.value(),e=this.__dir__,n=As(t),i=e<0,o=n?t.length:0,r=Vn(0,o,this.__views__),a=r.start,s=r.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,d=c.length,f=0,p=Pa(l,this.__takeCount__);if(!n||o<B||o==l&&p==l)return nn(i&&n?t.reverse():t,this.__actions__);var h=[];t:for(;l--&&f<p;){u+=e;for(var g=-1,m=t[u];++g<d;){var v=c[g],_=v.iteratee,y=v.type,b=_(m);if(y==G)m=b;else if(!b){if(y==W)continue t;break t}}h[f++]=m}return h}function rt(){this.__data__={}}function Vt(t){return this.has(t)&&delete this.__data__[t]}function zt(t){return"__proto__"==t?I:this.__data__[t]}function Jt(t){return"__proto__"!=t&&ea.call(this.__data__,t)}function Kt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Xt(t){var e=t?t.length:0;for(this.data={hash:va(null),set:new da};e--;)this.push(t[e])}function Yt(t,e){var n=t.data,i="string"==typeof e||jo(e)?n.set.has(e):n.hash[e];return i?0:-1}function Qt(t){var e=this.data;"string"==typeof t||jo(t)?e.set.add(t):e.hash[t]=!0}function Zt(t,e){for(var n=-1,i=t.length,o=-1,r=e.length,a=Ur(i+r);++n<i;)a[n]=t[n];for(;++o<r;)a[n++]=e[o];return a}function te(t,e){var n=-1,i=t.length;for(e||(e=Ur(i));++n<i;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function re(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e,n,i){for(var o=-1,r=t.length,a=i,s=a;++o<r;){var l=t[o],u=+e(l);n(u,a)&&(a=u,s=l)}return s}function se(t,e){for(var n=-1,i=t.length,o=-1,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[++o]=a)}return r}function le(t,e){for(var n=-1,i=t.length,o=Ur(i);++n<i;)o[n]=e(t[n],n,t);return o}function ue(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function ce(t,e,n,i){var o=-1,r=t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function de(t,e,n,i){var o=t.length;for(i&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function fe(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}function he(t,e){return t===I?e:t}function ge(t,e,n,i){return t!==I&&ea.call(i,n)?t:e}function me(t,e,n){for(var i=-1,o=Rs(e),r=o.length;++i<r;){var a=o[i],s=t[a],l=n(s,e[a],a,t,e);(l===l?l===s:s!==s)&&(s!==I||a in t)||(t[a]=l)}return t}function ve(t,e){return null==e?t:ye(e,Rs(e),t)}function _e(t,e){for(var n=-1,i=null==t,o=!i&&Yn(t),r=o?t.length:0,a=e.length,s=Ur(a);++n<a;){var l=e[n];o?s[n]=Qn(l,r)?t[l]:I:s[n]=i?I:t[l]}return s}function ye(t,e,n){n||(n={});for(var i=-1,o=e.length;++i<o;){var r=e[i];n[r]=t[r]}return n}function be(t,e,n){var i=typeof t;return"function"==i?e===I?t:an(t,e,n):null==t?xr:"object"==i?He(t):e===I?Dr(t):Re(t,e)}function we(t,e,n,i,o,r,a){var s;if(n&&(s=o?n(t,i,o):n(t)),s!==I)return s;if(!jo(t))return t;var l=As(t);if(l){if(s=zn(t),!e)return te(t,s)}else{var u=ia.call(t),c=u==Q;if(u!=et&&u!=z&&(!c||o))return qt[u]?Kn(t,u,e):o?t:{};if(s=Jn(c?{}:t),!e)return ve(s,t)}r||(r=[]),a||(a=[]);for(var d=r.length;d--;)if(r[d]==t)return a[d];return r.push(t),a.push(s),(l?ee:Me)(t,function(i,o){s[o]=we(i,e,n,o,t,r,a)}),s}function Se(t,e,n){if("function"!=typeof t)throw new Xr(q);return fa(function(){t.apply(I,n)},e)}function Pe(t,e){var n=t?t.length:0,i=[];if(!n)return i;var o=-1,r=Wn(),a=r==s,l=a&&e.length>=B?gn(e):null,u=e.length;l&&(r=Yt,a=!1,e=l);t:for(;++o<n;){var c=t[o];if(a&&c===c){for(var d=u;d--;)if(e[d]===c)continue t;i.push(c)}else r(e,c,0)<0&&i.push(c)}return i}function Ce(t,e){var n=!0;return Fa(t,function(t,i,o){return n=!!e(t,i,o)}),n}function Oe(t,e,n,i){var o=i,r=o;return Fa(t,function(t,a,s){var l=+e(t,a,s);(n(l,o)||l===i&&l===r)&&(o=l,r=t)}),r}function $e(t,e,n,i){var o=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>o?0:o+n),i=i===I||i>o?o:+i||0,i<0&&(i+=o),o=n>i?0:i>>>0,n>>>=0;n<o;)t[n++]=e;return t}function Ie(t,e){var n=[];return Fa(t,function(t,i,o){e(t,i,o)&&n.push(t)}),n}function xe(t,e,n,i){var o;return n(t,function(t,n,r){if(e(t,n,r))return o=i?n:t,!1}),o}function Ae(t,e,n,i){i||(i=[]);for(var o=-1,r=t.length;++o<r;){var a=t[o];y(a)&&Yn(a)&&(n||As(a)||$o(a))?e?Ae(a,e,n,i):ue(i,a):n||(i[i.length]=a)}return i}function Te(t,e){return Ea(t,e,er)}function Me(t,e){return Ea(t,e,Rs)}function Le(t,e){return Ha(t,e,Rs)}function ke(t,e){for(var n=-1,i=e.length,o=-1,r=[];++n<i;){var a=e[n];Do(t[a])&&(r[++o]=a)}return r}function De(t,e,n){if(null!=t){n!==I&&n in di(t)&&(e=[n]);for(var i=0,o=e.length;null!=t&&i<o;)t=t[e[i++]];return i&&i==o?t:I}}function je(t,e,n,i,o,r){return t===e||(null==t||null==e||!jo(t)&&!y(e)?t!==t&&e!==e:Fe(t,e,je,n,i,o,r))}function Fe(t,e,n,i,o,r,a){var s=As(t),l=As(e),u=J,c=J;s||(u=ia.call(t),u==z?u=et:u!=et&&(s=Go(t))),l||(c=ia.call(e),c==z?c=et:c!=et&&(l=Go(e)));var d=u==et,f=c==et,p=u==c;if(p&&!s&&!d)return Hn(t,e,u);if(!o){var h=d&&ea.call(t,"__wrapped__"),g=f&&ea.call(e,"__wrapped__");if(h||g)return n(h?t.value():t,g?e.value():e,i,o,r,a)}if(!p)return!1;r||(r=[]),a||(a=[]);for(var m=r.length;m--;)if(r[m]==t)return a[m]==e;r.push(t),a.push(e);var v=(s?En:Rn)(t,e,n,i,o,r,a);return r.pop(),a.pop(),v}function Ne(t,e,n){var i=e.length,o=i,r=!n;if(null==t)return!o;for(t=di(t);i--;){var a=e[i];if(r&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=e[i];var s=a[0],l=t[s],u=a[1];if(r&&a[2]){if(l===I&&!(s in t))return!1}else{var c=n?n(l,u,s):I;if(!(c===I?je(u,l,n,!0):c))return!1}}return!0}function Ee(t,e){var n=-1,i=Yn(t)?Ur(t.length):[];return Fa(t,function(t,o,r){i[++n]=e(t,o,r)}),i}function He(t){var e=Gn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&(t[n]===i&&(i!==I||n in di(t)))}}return function(t){return Ne(t,e)}}function Re(t,e){var n=As(t),i=ti(t)&&ii(e),o=t+"";return t=fi(t),function(r){if(null==r)return!1;var a=o;if(r=di(r),(n||!i)&&!(a in r)){if(r=1==t.length?r:De(r,Je(t,0,-1)),null==r)return!1;a=$i(t),r=di(r)}return r[a]===e?e!==I||a in r:je(e,r[a],I,!0)}}function Ue(t,e,n,i,o){if(!jo(t))return t;var r=Yn(e)&&(As(e)||Go(e)),a=r?I:Rs(e);return ee(a||e,function(s,l){if(a&&(l=s,s=e[l]),y(s))i||(i=[]),o||(o=[]),Be(t,e,l,Ue,n,i,o);else{var u=t[l],c=n?n(u,s,l,t,e):I,d=c===I;d&&(c=s),c===I&&(!r||l in t)||!d&&(c===c?c===u:u!==u)||(t[l]=c)}}),t}function Be(t,e,n,i,o,r,a){for(var s=r.length,l=e[n];s--;)if(r[s]==l)return void(t[n]=a[s]);var u=t[n],c=o?o(u,l,n,t,e):I,d=c===I;d&&(c=l,Yn(l)&&(As(l)||Go(l))?c=As(u)?u:Yn(u)?te(u):[]:Uo(l)||$o(l)?c=$o(u)?Ko(u):Uo(u)?u:{}:d=!1),r.push(l),a.push(c),d?t[n]=i(c,l,o,r,a):(c===c?c!==u:u===u)&&(t[n]=c)}function We(t){return function(e){return null==e?I:e[t]}}function Ge(t){var e=t+"";return t=fi(t),function(n){return De(n,t,e)}}function qe(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=o&&Qn(i)){var o=i;pa.call(t,i,1)}}return t}function Ve(t,e){return t+_a($a()*(e-t+1))}function ze(t,e,n,i,o){return o(t,function(t,o,r){n=i?(i=!1,t):e(n,t,o,r)}),n}function Je(t,e,n){var i=-1,o=t.length;e=null==e?0:+e||0,e<0&&(e=-e>o?0:o+e),n=n===I||n>o?o:+n||0,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var r=Ur(o);++i<o;)r[i]=t[i+e];return r}function Ke(t,e){var n;return Fa(t,function(t,i,o){return n=e(t,i,o),!n}),!!n}function Xe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Ye(t,e,n){var i=Un(),o=-1;e=le(e,function(t){return i(t)});var r=Ee(t,function(t){var n=le(e,function(e){return e(t)});return{criteria:n,index:++o,value:t}});return Xe(r,function(t,e){return p(t,e,n)})}function Qe(t,e){var n=0;return Fa(t,function(t,i,o){n+=+e(t,i,o)||0}),n}function Ze(t,e){var n=-1,i=Wn(),o=t.length,r=i==s,a=r&&o>=B,l=a?gn():null,u=[];l?(i=Yt,r=!1):(a=!1,l=e?[]:u);t:for(;++n<o;){var c=t[n],d=e?e(c,n,t):c;if(r&&c===c){for(var f=l.length;f--;)if(l[f]===d)continue t;e&&l.push(d),u.push(c)}else i(l,d,0)<0&&((e||a)&&l.push(d),u.push(c))}return u}function tn(t,e){for(var n=-1,i=e.length,o=Ur(i);++n<i;)o[n]=t[e[n]];return o}function en(t,e,n,i){for(var o=t.length,r=i?o:-1;(i?r--:++r<o)&&e(t[r],r,t););return n?Je(t,i?0:r,i?r+1:o):Je(t,i?r+1:0,i?o:r)}function nn(t,e){var n=t;n instanceof o&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var a=e[i];n=a.func.apply(a.thisArg,ue([n],a.args))}return n}function on(t,e,n){var i=0,o=t?t.length:i;if("number"==typeof e&&e===e&&o<=Ma){for(;i<o;){var r=i+o>>>1,a=t[r];(n?a<=e:a<e)&&null!==a?i=r+1:o=r}return o}return rn(t,e,xr,n)}function rn(t,e,n,i){e=n(e);for(var o=0,r=t?t.length:0,a=e!==e,s=null===e,l=e===I;o<r;){var u=_a((o+r)/2),c=n(t[u]),d=c!==I,f=c===c;if(a)var p=f||i;else p=s?f&&d&&(i||null!=c):l?f&&(i||d):null!=c&&(i?c<=e:c<e);p?o=u+1:r=u}return Pa(r,Ta)}function an(t,e,n){if("function"!=typeof t)return xr;if(e===I)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)};case 5:return function(n,i,o,r,a){return t.call(e,n,i,o,r,a)}}return function(){return t.apply(e,arguments)}}function sn(t){var e=new aa(t.byteLength),n=new ha(e);return n.set(new ha(t)),e}function ln(t,e,n){for(var i=n.length,o=-1,r=Sa(t.length-i,0),a=-1,s=e.length,l=Ur(s+r);++a<s;)l[a]=e[a];for(;++o<i;)l[n[o]]=t[o];for(;r--;)l[a++]=t[o++];return l}function un(t,e,n){for(var i=-1,o=n.length,r=-1,a=Sa(t.length-o,0),s=-1,l=e.length,u=Ur(a+l);++r<a;)u[r]=t[r];for(var c=r;++s<l;)u[c+s]=e[s];for(;++i<o;)u[c+n[i]]=t[r++];return u}function cn(t,e){return function(n,i,o){var r=e?e():{};if(i=Un(i,o,3),As(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];t(r,l,i(l,a,n),n)}else Fa(n,function(e,n,o){t(r,e,i(e,n,o),o)});return r}}function dn(t){return _o(function(e,n){var i=-1,o=null==e?0:n.length,r=o>2?n[o-2]:I,a=o>2?n[2]:I,s=o>1?n[o-1]:I;for("function"==typeof r?(r=an(r,s,5),o-=2):(r="function"==typeof s?s:I,o-=r?1:0),a&&Zn(n[0],n[1],a)&&(r=o<3?I:r,o=1);++i<o;){var l=n[i];l&&t(e,l,r)}return e})}function fn(t,e){return function(n,i){var o=n?Ba(n):0;if(!ni(o))return t(n,i);for(var r=e?o:-1,a=di(n);(e?r--:++r<o)&&i(a[r],r,a)!==!1;);return n}}function pn(t){return function(e,n,i){for(var o=di(e),r=i(e),a=r.length,s=t?a:-1;t?s--:++s<a;){var l=r[s];if(n(o[l],l,o)===!1)break}return e}}function hn(t,e){function n(){var o=this&&this!==ie&&this instanceof n?i:t;return o.apply(e,arguments)}var i=vn(t);return n}function gn(t){return va&&da?new Xt(t):null}function mn(t){return function(e){for(var n=-1,i=Or(dr(e)),o=i.length,r="";++n<o;)r=t(r,i[n],n);return r}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ja(t.prototype),i=t.apply(n,e);return jo(i)?i:n}}function _n(t){function e(n,i,o){o&&Zn(n,i,o)&&(i=I);var r=Nn(n,t,I,I,I,I,I,i);return r.placeholder=e.placeholder,r}return e}function yn(t,e){return _o(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(I,n))})}function bn(t,e){return function(n,i,o){if(o&&Zn(n,i,o)&&(i=I),i=Un(i,o,3),1==i.length){n=As(n)?n:ci(n);var r=ae(n,i,t,e);if(!n.length||r!==e)return r}return Oe(n,i,t,e)}}function wn(t,e){return function(n,i,o){if(i=Un(i,o,3),As(n)){var r=a(n,i,e);return r>-1?n[r]:I}return xe(n,i,t)}}function Sn(t){return function(e,n,i){return e&&e.length?(n=Un(n,i,3),a(e,n,t)):-1}}function Pn(t){return function(e,n,i){return n=Un(n,i,3),xe(e,n,t,!0)}}function Cn(t){return function(){for(var e,n=arguments.length,o=t?n:-1,r=0,a=Ur(n);t?o--:++o<n;){var s=a[r++]=arguments[o];if("function"!=typeof s)throw new Xr(q);!e&&i.prototype.thru&&"wrapper"==Bn(s)&&(e=new i([],!0))}for(o=e?-1:n;++o<n;){s=a[o];var l=Bn(s),u="wrapper"==l?Ua(s):I;e=u&&ei(u[0])&&u[1]==(F|L|D|N)&&!u[4].length&&1==u[9]?e[Bn(u[0])].apply(e,u[3]):1==s.length&&ei(s)?e[l]():e.thru(s)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&As(i)&&i.length>=B)return e.plant(i).value();for(var o=0,r=n?a[o].apply(this,t):i;++o<n;)r=a[o].call(this,r);return r}}}function On(t,e){return function(n,i,o){return"function"==typeof i&&o===I&&As(n)?t(n,i):e(n,an(i,o,3))}}function $n(t){return function(e,n,i){return"function"==typeof n&&i===I||(n=an(n,i,3)),t(e,n,er)}}function In(t){return function(e,n,i){return"function"==typeof n&&i===I||(n=an(n,i,3)),t(e,n)}}function xn(t){return function(e,n,i){var o={};return n=Un(n,i,3),Me(e,function(e,i,r){var a=n(e,i,r);i=t?a:i,e=t?e:a,o[i]=e}),o}}function An(t){return function(e,n,i){return e=u(e),(t?e:"")+kn(e,n,i)+(t?"":e)}}function Tn(t){var e=_o(function(n,i){var o=w(i,e.placeholder);return Nn(n,t,I,i,o)});return e}function Mn(t,e){return function(n,i,o,r){var a=arguments.length<3;return"function"==typeof i&&r===I&&As(n)?t(n,i,o,a):ze(n,Un(i,r,4),o,a,e)}}function Ln(t,e,n,i,o,r,a,s,l,u){function c(){for(var _=arguments.length,y=_,b=Ur(_);y--;)b[y]=arguments[y];if(i&&(b=ln(b,i,o)),r&&(b=un(b,r,a)),h||m){var S=c.placeholder,P=w(b,S);if(_-=P.length,_<u){var C=s?te(s):I,O=Sa(u-_,0),$=h?P:I,x=h?I:P,M=h?b:I,L=h?I:b;e|=h?D:j,e&=~(h?j:D),g||(e&=~(A|T));var k=[t,e,n,M,$,L,x,C,l,O],F=Ln.apply(I,k);return ei(t)&&Wa(F,k),F.placeholder=S,F}}var N=f?n:this,E=p?N[t]:t;return s&&(b=li(b,s)),d&&l<b.length&&(b.length=l),this&&this!==ie&&this instanceof c&&(E=v||vn(t)),E.apply(N,b)}var d=e&F,f=e&A,p=e&T,h=e&L,g=e&M,m=e&k,v=p?I:vn(t);return c}function kn(t,e,n){var i=t.length;if(e=+e,i>=e||!ba(e))return"";var o=e-i;return n=null==n?" ":n+"",vr(n,ma(o/n.length)).slice(0,o)}function Dn(t,e,n,i){function o(){for(var e=-1,s=arguments.length,l=-1,u=i.length,c=Ur(u+s);++l<u;)c[l]=i[l];for(;s--;)c[l++]=arguments[++e];var d=this&&this!==ie&&this instanceof o?a:t;return d.apply(r?n:this,c)}var r=e&A,a=vn(t);return o}function jn(t){var e=qr[t];return function(t,n){return n=n===I?0:+n||0,n?(n=ua(10,n),e(t*n)/n):e(t)}}function Fn(t){return function(e,n,i,o){var r=Un(i);return null==i&&r===be?on(e,n,t):rn(e,n,r(i,o,1),t)}}function Nn(t,e,n,i,o,r,a,s){var l=e&T;if(!l&&"function"!=typeof t)throw new Xr(q);var u=i?i.length:0;if(u||(e&=~(D|j),i=o=I),u-=o?o.length:0,e&j){var c=i,d=o;i=o=I}var f=l?I:Ua(t),p=[t,e,n,i,o,c,d,r,a,s];if(f&&(oi(p,f),e=p[1],s=p[9]),p[9]=null==s?l?0:t.length:Sa(s-u,0)||0,e==A)var h=hn(p[0],p[2]);else h=e!=D&&e!=(A|D)||p[4].length?Ln.apply(I,p):Dn.apply(I,p);var g=f?Ra:Wa;return g(h,p)}function En(t,e,n,i,o,r,a){var s=-1,l=t.length,u=e.length;if(l!=u&&!(o&&u>l))return!1;for(;++s<l;){var c=t[s],d=e[s],f=i?i(o?d:c,o?c:d,s):I;if(f!==I){if(f)continue;return!1}if(o){if(!fe(e,function(t){return c===t||n(c,t,i,o,r,a)}))return!1}else if(c!==d&&!n(c,d,i,o,r,a))return!1}return!0}function Hn(t,e,n){switch(n){case K:case X:return+t==+e;case Y:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case ot:return t==e+""}return!1}function Rn(t,e,n,i,o,r,a){var s=Rs(t),l=s.length,u=Rs(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=s[d];if(!(o?f in e:ea.call(e,f)))return!1}for(var p=o;++d<l;){f=s[d];var h=t[f],g=e[f],m=i?i(o?g:h,o?h:g,f):I;if(!(m===I?n(h,g,i,o,r,a):m))return!1;p||(p="constructor"==f)}if(!p){var v=t.constructor,_=e.constructor;if(v!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _))return!1}return!0}function Un(t,n,i){var o=e.callback||$r;return o=o===$r?be:o,i?o(t,n,i):o}function Bn(t){for(var e=t.name,n=Da[e],i=n?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==t)return o.name}return e}function Wn(t,n,i){var o=e.indexOf||Ci;return o=o===Ci?s:o,t?o(t,n,i):o}function Gn(t){for(var e=nr(t),n=e.length;n--;)e[n][2]=ii(e[n][1]);return e}function qn(t,e){var n=null==t?I:t[e];return Eo(n)?n:I}function Vn(t,e,n){for(var i=-1,o=n.length;++i<o;){var r=n[i],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Pa(e,t+a);break;case"takeRight":t=Sa(t,e-a)}}return{start:t,end:e}}function zn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ea.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Jn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=zr),new e}function Kn(t,e,n){var i=t.constructor;switch(e){case at:return sn(t);case K:case X:return new i(+t);case st:case lt:case ut:case ct:case dt:case ft:case pt:case ht:case gt:var o=t.buffer;return new i(n?sn(o):o,t.byteOffset,t.length);case tt:case ot:return new i(t);case nt:var r=new i(t.source,Dt.exec(t));r.lastIndex=t.lastIndex}return r}function Xn(t,e,n){null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:De(t,Je(e,0,-1)),e=$i(e));var i=null==t?t:t[e];return null==i?I:i.apply(t,n)}function Yn(t){return null!=t&&ni(Ba(t))}function Qn(t,e){return t="number"==typeof t||Nt.test(t)?+t:-1,e=null==e?La:e,t>-1&&t%1==0&&t<e}function Zn(t,e,n){if(!jo(n))return!1;var i=typeof e;if("number"==i?Yn(n)&&Qn(e,n.length):"string"==i&&e in n){var o=n[e];return t===t?t===o:o!==o}return!1}function ti(t,e){var n=typeof t;if("string"==n&&It.test(t)||"number"==n)return!0;if(As(t))return!1;var i=!$t.test(t);return i||null!=e&&t in di(e)}function ei(t){var n=Bn(t);if(!(n in o.prototype))return!1;var i=e[n];if(t===i)return!0;var r=Ua(i);return!!r&&t===r[0]}function ni(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=La}function ii(t){return t===t&&!jo(t)}function oi(t,e){var n=t[1],i=e[1],o=n|i,r=o<F,a=i==F&&n==L||i==F&&n==N&&t[7].length<=e[8]||i==(F|N)&&n==L;if(!r&&!a)return t;i&A&&(t[2]=e[2],o|=n&A?0:M);var s=e[3];if(s){var l=t[3];t[3]=l?ln(l,s,e[4]):te(s),t[4]=l?w(t[3],V):te(e[4])}return s=e[5],s&&(l=t[5],t[5]=l?un(l,s,e[6]):te(s),t[6]=l?w(t[5],V):te(e[6])),s=e[7],s&&(t[7]=te(s)),i&F&&(t[8]=null==t[8]?e[8]:Pa(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function ri(t,e){return t===I?e:Ts(t,e,ri)}function ai(t,e){t=di(t);for(var n=-1,i=e.length,o={};++n<i;){var r=e[n];r in t&&(o[r]=t[r])}return o}function si(t,e){var n={};return Te(t,function(t,i,o){e(t,i,o)&&(n[i]=t)}),n}function li(t,e){for(var n=t.length,i=Pa(e.length,n),o=te(t);i--;){var r=e[i];t[i]=Qn(r,n)?o[r]:I}return t}function ui(t){for(var e=er(t),n=e.length,i=n&&t.length,o=!!i&&ni(i)&&(As(t)||$o(t)),r=-1,a=[];++r<n;){var s=e[r];(o&&Qn(s,i)||ea.call(t,s))&&a.push(s)}return a}function ci(t){return null==t?[]:Yn(t)?jo(t)?t:zr(t):ar(t)}function di(t){return jo(t)?t:zr(t)}function fi(t){if(As(t))return t;var e=[];return u(t).replace(xt,function(t,n,i,o){e.push(i?o.replace(Lt,"$1"):n||t)}),e}function pi(t){return t instanceof o?t.clone():new i(t.__wrapped__,t.__chain__,te(t.__actions__))}function hi(t,e,n){e=(n?Zn(t,e,n):null==e)?1:Sa(_a(e)||1,1);for(var i=0,o=t?t.length:0,r=-1,a=Ur(ma(o/e));i<o;)a[++r]=Je(t,i,i+=e);return a}function gi(t){for(var e=-1,n=t?t.length:0,i=-1,o=[];++e<n;){var r=t[e];r&&(o[++i]=r)}return o}function mi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),Je(t,e<0?0:e)):[]}function vi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Je(t,0,e<0?0:e)):[]}function _i(t,e,n){return t&&t.length?en(t,Un(e,n,3),!0,!0):[]}function yi(t,e,n){return t&&t.length?en(t,Un(e,n,3),!0):[]}function bi(t,e,n,i){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&Zn(t,e,n)&&(n=0,i=o),$e(t,e,n,i)):[]}function wi(t){return t?t[0]:I}function Si(t,e,n){var i=t?t.length:0;return n&&Zn(t,e,n)&&(e=!1),i?Ae(t,e):[]}function Pi(t){var e=t?t.length:0;return e?Ae(t,!0):[]}function Ci(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?Sa(i+n,0):n;else if(n){var o=on(t,e);return o<i&&(e===e?e===t[o]:t[o]!==t[o])?o:-1}return s(t,e,n||0)}function Oi(t){return vi(t,1)}function $i(t){var e=t?t.length:0;return e?t[e-1]:I}function Ii(t,e,n){var i=t?t.length:0;if(!i)return-1;var o=i;if("number"==typeof n)o=(n<0?Sa(i+n,0):Pa(n||0,i-1))+1;else if(n){o=on(t,e,!0)-1;var r=t[o];return(e===e?e===r:r!==r)?o:-1}if(e!==e)return _(t,o,!0);for(;o--;)if(t[o]===e)return o;return-1}function xi(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=Wn(),o=t.length;++n<o;)for(var r=0,a=t[n];(r=i(e,a,r))>-1;)pa.call(e,r,1);return e}function Ai(t,e,n){var i=[];if(!t||!t.length)return i;var o=-1,r=[],a=t.length;for(e=Un(e,n,3);++o<a;){var s=t[o];e(s,o,t)&&(i.push(s),r.push(o))}return qe(t,r),i}function Ti(t){return mi(t,1)}function Mi(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Zn(t,e,n)&&(e=0,n=i),Je(t,e,n)):[]}function Li(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),Je(t,0,e<0?0:e)):[]}function ki(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Je(t,e<0?0:e)):[]}function Di(t,e,n){return t&&t.length?en(t,Un(e,n,3),!1,!0):[]}function ji(t,e,n){return t&&t.length?en(t,Un(e,n,3)):[]}function Fi(t,e,n,i){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(i=n,n=Zn(t,e,i)?I:e,e=!1);var r=Un();return null==n&&r===be||(n=r(n,i,3)),e&&Wn()==s?S(t,n):Ze(t,n)}function Ni(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){if(Yn(t))return n=Sa(t.length,n),!0});for(var i=Ur(n);++e<n;)i[e]=le(t,We(e));return i}function Ei(t,e,n){var i=t?t.length:0;if(!i)return[];var o=Ni(t);return null==e?o:(e=an(e,n,4),le(o,function(t){return ce(t,e,I,!0)}))}function Hi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Yn(n))var i=i?ue(Pe(i,n),Pe(n,i)):n}return i?Ze(i):[]}function Ri(t,e){var n=-1,i=t?t.length:0,o={};for(!i||e||As(t[0])||(e=[]);++n<i;){var r=t[n];e?o[r]=e[n]:r&&(o[r[0]]=r[1])}return o}function Ui(t){var n=e(t);return n.__chain__=!0,n}function Bi(t,e,n){return e.call(n,t),t}function Wi(t,e,n){return e.call(n,t)}function Gi(){return Ui(this)}function qi(){return new i(this.value(),this.__chain__)}function Vi(t){for(var e,i=this;i instanceof n;){var o=pi(i);e?r.__wrapped__=o:e=o;var r=o;i=i.__wrapped__}return r.__wrapped__=t,e}function zi(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof o){var n=t;return this.__actions__.length&&(n=new o(this)),n=n.reverse(),n.__actions__.push({func:Wi,args:[e],thisArg:I}),new i(n,this.__chain__)}return this.thru(e)}function Ji(){return this.value()+""}function Ki(){return nn(this.__wrapped__,this.__actions__)}function Xi(t,e,n){var i=As(t)?re:Ce;return n&&Zn(t,e,n)&&(e=I),"function"==typeof e&&n===I||(e=Un(e,n,3)),i(t,e)}function Yi(t,e,n){var i=As(t)?se:Ie;return e=Un(e,n,3),i(t,e)}function Qi(t,e){return os(t,He(e))}function Zi(t,e,n,i){var o=t?Ba(t):0;return ni(o)||(t=ar(t),o=t.length),n="number"!=typeof n||i&&Zn(e,n,i)?0:n<0?Sa(o+n,0):n||0,"string"==typeof t||!As(t)&&Wo(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Wn(t,e,n)>-1}function to(t,e,n){var i=As(t)?le:Ee;return e=Un(e,n,3),i(t,e)}function eo(t,e){return to(t,Dr(e))}function no(t,e,n){var i=As(t)?se:Ie;return e=Un(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function io(t,e,n){if(n?Zn(t,e,n):null==e){t=ci(t);var i=t.length;return i>0?t[Ve(0,i-1)]:I}var o=-1,r=Jo(t),i=r.length,a=i-1;for(e=Pa(e<0?0:+e||0,i);++o<e;){var s=Ve(o,a),l=r[s];r[s]=r[o],r[o]=l}return r.length=e,r}function oo(t){return io(t,xa)}function ro(t){var e=t?Ba(t):0;return ni(e)?e:Rs(t).length}function ao(t,e,n){var i=As(t)?fe:Ke;return n&&Zn(t,e,n)&&(e=I),"function"==typeof e&&n===I||(e=Un(e,n,3)),i(t,e)}function so(t,e,n){if(null==t)return[];n&&Zn(t,e,n)&&(e=I);var i=-1;e=Un(e,n,3);var o=Ee(t,function(t,n,o){return{criteria:e(t,n,o),index:++i,value:t}});return Xe(o,f)}function lo(t,e,n,i){return null==t?[]:(i&&Zn(e,n,i)&&(n=I),As(e)||(e=null==e?[]:[e]),As(n)||(n=null==n?[]:[n]),Ye(t,e,n))}function uo(t,e){return Yi(t,He(e))}function co(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Xr(q);var n=t;t=e,e=n}return t=ba(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function fo(t,e,n){return n&&Zn(t,e,n)&&(e=I),e=t&&null==e?t.length:Sa(+e||0,0),Nn(t,F,I,I,I,I,e)}function po(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Xr(q);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=I),n}}function ho(t,e,n){function i(){p&&sa(p),u&&sa(u),g=0,u=p=h=I}function o(e,n){n&&sa(n),u=p=h=I,e&&(g=gs(),c=t.apply(f,l),p||u||(l=f=I))}function r(){var t=e-(gs()-d);t<=0||t>e?o(h,u):p=fa(r,t)}function a(){o(v,p)}function s(){if(l=arguments,d=gs(),f=this,h=v&&(p||!_),m===!1)var n=_&&!p;else{u||_||(g=d);var i=m-(d-g),o=i<=0||i>m;o?(u&&(u=sa(u)),g=d,c=t.apply(f,l)):u||(u=fa(a,i))}return o&&p?p=sa(p):p||e===m||(p=fa(r,e)),n&&(o=!0,c=t.apply(f,l)),!o||p||u||(l=f=I),c}var l,u,c,d,f,p,h,g=0,m=!1,v=!0;if("function"!=typeof t)throw new Xr(q);if(e=e<0?0:+e||0,n===!0){var _=!0;v=!1}else jo(n)&&(_=!!n.leading,m="maxWait"in n&&Sa(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);return s.cancel=i,s}function go(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Xr(q);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=t.apply(this,i);return n.cache=r.set(o,a),a};return n.cache=new go.Cache,n}function mo(t){if("function"!=typeof t)throw new Xr(q);return function(){return!t.apply(this,arguments)}}function vo(t){return po(2,t)}function _o(t,e){if("function"!=typeof t)throw new Xr(q);return e=Sa(e===I?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=Sa(n.length-e,0),r=Ur(o);++i<o;)r[i]=n[e+i];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,n[0],r);case 2:return t.call(this,n[0],n[1],r)}var a=Ur(e+1);for(i=-1;++i<e;)a[i]=n[i];return a[e]=r,t.apply(this,a)}}function yo(t){if("function"!=typeof t)throw new Xr(q);return function(e){return t.apply(this,e)}}function bo(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new Xr(q);return n===!1?i=!1:jo(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ho(t,e,{leading:i,maxWait:+e,trailing:o})}function wo(t,e){return e=null==e?xr:e,Nn(e,D,I,[t],[])}function So(t,e,n,i){return e&&"boolean"!=typeof e&&Zn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?we(t,e,an(n,i,1)):we(t,e)}function Po(t,e,n){return"function"==typeof e?we(t,!0,an(e,n,1)):we(t,!0)}function Co(t,e){
return t>e}function Oo(t,e){return t>=e}function $o(t){return y(t)&&Yn(t)&&ea.call(t,"callee")&&!ca.call(t,"callee")}function Io(t){return t===!0||t===!1||y(t)&&ia.call(t)==K}function xo(t){return y(t)&&ia.call(t)==X}function Ao(t){return!!t&&1===t.nodeType&&y(t)&&!Uo(t)}function To(t){return null==t||(Yn(t)&&(As(t)||Wo(t)||$o(t)||y(t)&&Do(t.splice))?!t.length:!Rs(t).length)}function Mo(t,e,n,i){n="function"==typeof n?an(n,i,3):I;var o=n?n(t,e):I;return o===I?je(t,e,n):!!o}function Lo(t){return y(t)&&"string"==typeof t.message&&ia.call(t)==Y}function ko(t){return"number"==typeof t&&ba(t)}function Do(t){return jo(t)&&ia.call(t)==Q}function jo(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Fo(t,e,n,i){return n="function"==typeof n?an(n,i,3):I,Ne(t,Gn(e),n)}function No(t){return Ro(t)&&t!=+t}function Eo(t){return null!=t&&(Do(t)?ra.test(ta.call(t)):y(t)&&Ft.test(t))}function Ho(t){return null===t}function Ro(t){return"number"==typeof t||y(t)&&ia.call(t)==tt}function Uo(t){var e;if(!y(t)||ia.call(t)!=et||$o(t)||!ea.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Te(t,function(t,e){n=e}),n===I||ea.call(t,n)}function Bo(t){return jo(t)&&ia.call(t)==nt}function Wo(t){return"string"==typeof t||y(t)&&ia.call(t)==ot}function Go(t){return y(t)&&ni(t.length)&&!!Gt[ia.call(t)]}function qo(t){return t===I}function Vo(t,e){return t<e}function zo(t,e){return t<=e}function Jo(t){var e=t?Ba(t):0;return ni(e)?e?te(t):[]:ar(t)}function Ko(t){return ye(t,er(t))}function Xo(t,e,n){var i=ja(t);return n&&Zn(t,e,n)&&(e=I),e?ve(i,e):i}function Yo(t){return ke(t,er(t))}function Qo(t,e,n){var i=null==t?I:De(t,fi(e),e+"");return i===I?n:i}function Zo(t,e){if(null==t)return!1;var n=ea.call(t,e);if(!n&&!ti(e)){if(e=fi(e),t=1==e.length?t:De(t,Je(e,0,-1)),null==t)return!1;e=$i(e),n=ea.call(t,e)}return n||ni(t.length)&&Qn(e,t.length)&&(As(t)||$o(t))}function tr(t,e,n){n&&Zn(t,e,n)&&(e=I);for(var i=-1,o=Rs(t),r=o.length,a={};++i<r;){var s=o[i],l=t[s];e?ea.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a}function er(t){if(null==t)return[];jo(t)||(t=zr(t));var e=t.length;e=e&&ni(e)&&(As(t)||$o(t))&&e||0;for(var n=t.constructor,i=-1,o="function"==typeof n&&n.prototype===t,r=Ur(e),a=e>0;++i<e;)r[i]=i+"";for(var s in t)a&&Qn(s,e)||"constructor"==s&&(o||!ea.call(t,s))||r.push(s);return r}function nr(t){t=di(t);for(var e=-1,n=Rs(t),i=n.length,o=Ur(i);++e<i;){var r=n[e];o[e]=[r,t[r]]}return o}function ir(t,e,n){var i=null==t?I:t[e];return i===I&&(null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:De(t,Je(e,0,-1)),i=null==t?I:t[$i(e)]),i=i===I?n:i),Do(i)?i.call(t):i}function or(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||ti(e,t)?[i]:fi(e);for(var o=-1,r=e.length,a=r-1,s=t;null!=s&&++o<r;){var l=e[o];jo(s)&&(o==a?s[l]=n:null==s[l]&&(s[l]=Qn(e[o+1])?[]:{})),s=s[l]}return t}function rr(t,e,n,i){var o=As(t)||Go(t);if(e=Un(e,i,4),null==n)if(o||jo(t)){var r=t.constructor;n=o?As(t)?new r:[]:ja(Do(r)?r.prototype:I)}else n={};return(o?ee:Me)(t,function(t,i,o){return e(n,t,i,o)}),n}function ar(t){return tn(t,Rs(t))}function sr(t){return tn(t,er(t))}function lr(t,e,n){return e=+e||0,n===I?(n=e,e=0):n=+n||0,t>=Pa(e,n)&&t<Sa(e,n)}function ur(t,e,n){n&&Zn(t,e,n)&&(e=n=I);var i=null==t,o=null==e;if(null==n&&(o&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,o=!0)),i&&o&&(e=1,o=!1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1){var r=$a();return Pa(t+r*(e-t+la("1e-"+((r+"").length-1))),e)}return Ve(t,e)}function cr(t){return t=u(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function dr(t){return t=u(t),t&&t.replace(Et,h).replace(Mt,"")}function fr(t,e,n){t=u(t),e+="";var i=t.length;return n=n===I?i:Pa(n<0?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function pr(t){return t=u(t),t&&St.test(t)?t.replace(bt,g):t}function hr(t){return t=u(t),t&&Tt.test(t)?t.replace(At,m):t||"(?:)"}function gr(t,e,n){t=u(t),e=+e;var i=t.length;if(i>=e||!ba(e))return t;var o=(e-i)/2,r=_a(o),a=ma(o);return n=kn("",a,n),n.slice(0,r)+t+n}function mr(t,e,n){return(n?Zn(t,e,n):null==e)?e=0:e&&(e=+e),t=br(t),Oa(t,e||(jt.test(t)?16:10))}function vr(t,e){var n="";if(t=u(t),e=+e,e<1||!t||!ba(e))return n;do e%2&&(n+=t),e=_a(e/2),t+=t;while(e);return n}function _r(t,e,n){return t=u(t),n=null==n?0:Pa(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function yr(t,n,i){var o=e.templateSettings;i&&Zn(t,n,i)&&(n=i=I),t=u(t),n=me(ve({},i||n),o,ge);var r,a,s=me(ve({},n.imports),o.imports,ge),l=Rs(s),c=tn(s,l),d=0,f=n.interpolate||Ht,p="__p += '",h=Jr((n.escape||Ht).source+"|"+f.source+"|"+(f===Ot?kt:Ht).source+"|"+(n.evaluate||Ht).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Wt+"]")+"\n";t.replace(h,function(e,n,i,o,s,l){return i||(i=o),p+=t.slice(d,l).replace(Rt,v),n&&(r=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=l+e.length,e}),p+="';\n";var m=n.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(mt,""):p).replace(vt,"$1").replace(_t,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var _=Ys(function(){return Gr(l,g+"return "+p).apply(I,c)});if(_.source=p,Lo(_))throw _;return _}function br(t,e,n){var i=t;return(t=u(t))?(n?Zn(i,e,n):null==e)?t.slice(P(t),C(t)+1):(e+="",t.slice(c(t,e),d(t,e)+1)):t}function wr(t,e,n){var i=t;return t=u(t),t?(n?Zn(i,e,n):null==e)?t.slice(P(t)):t.slice(c(t,e+"")):t}function Sr(t,e,n){var i=t;return t=u(t),t?(n?Zn(i,e,n):null==e)?t.slice(0,C(t)+1):t.slice(0,d(t,e+"")+1):t}function Pr(t,e,n){n&&Zn(t,e,n)&&(e=I);var i=E,o=H;if(null!=e)if(jo(e)){var r="separator"in e?e.separator:r;i="length"in e?+e.length||0:i,o="omission"in e?u(e.omission):o}else i=+e||0;if(t=u(t),i>=t.length)return t;var a=i-o.length;if(a<1)return o;var s=t.slice(0,a);if(null==r)return s+o;if(Bo(r)){if(t.slice(a).search(r)){var l,c,d=t.slice(0,a);for(r.global||(r=Jr(r.source,(Dt.exec(r)||"")+"g")),r.lastIndex=0;l=r.exec(d);)c=l.index;s=s.slice(0,null==c?a:c)}}else if(t.indexOf(r,a)!=a){var f=s.lastIndexOf(r);f>-1&&(s=s.slice(0,f))}return s+o}function Cr(t){return t=u(t),t&&wt.test(t)?t.replace(yt,O):t}function Or(t,e,n){return n&&Zn(t,e,n)&&(e=I),t=u(t),t.match(e||Ut)||[]}function $r(t,e,n){return n&&Zn(t,e,n)&&(e=I),y(t)?Ar(t):be(t,e)}function Ir(t){return function(){return t}}function xr(t){return t}function Ar(t){return He(we(t,!0))}function Tr(t,e){return Re(t,we(e,!0))}function Mr(t,e,n){if(null==n){var i=jo(e),o=i?Rs(e):I,r=o&&o.length?ke(e,o):I;(r?r.length:i)||(r=!1,n=e,e=t,t=this)}r||(r=ke(e,Rs(e)));var a=!0,s=-1,l=Do(t),u=r.length;n===!1?a=!1:jo(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var c=r[s],d=e[c];t[c]=d,l&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(a||n){var i=t(this.__wrapped__),o=i.__actions__=te(this.__actions__);return o.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,ue([this.value()],arguments))}}(d))}return t}function Lr(){return ie._=oa,this}function kr(){}function Dr(t){return ti(t)?We(t):Ge(t)}function jr(t){return function(e){return De(t,fi(e),e+"")}}function Fr(t,e,n){n&&Zn(t,e,n)&&(e=n=I),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,o=Sa(ma((e-t)/(n||1)),0),r=Ur(o);++i<o;)r[i]=t,t+=n;return r}function Nr(t,e,n){if(t=_a(t),t<1||!ba(t))return[];var i=-1,o=Ur(Pa(t,Aa));for(e=an(e,n,1);++i<t;)i<Aa?o[i]=e(i):e(i);return o}function Er(t){var e=++na;return u(t)+e}function Hr(t,e){return(+t||0)+(+e||0)}function Rr(t,e,n){return n&&Zn(t,e,n)&&(e=I),e=Un(e,n,3),1==e.length?pe(As(t)?t:ci(t),e):Qe(t,e)}t=t?oe.defaults(ie.Object(),t,oe.pick(ie,Bt)):ie;var Ur=t.Array,Br=t.Date,Wr=t.Error,Gr=t.Function,qr=t.Math,Vr=t.Number,zr=t.Object,Jr=t.RegExp,Kr=t.String,Xr=t.TypeError,Yr=Ur.prototype,Qr=zr.prototype,Zr=Kr.prototype,ta=Gr.prototype.toString,ea=Qr.hasOwnProperty,na=0,ia=Qr.toString,oa=ie._,ra=Jr("^"+ta.call(ea).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,sa=t.clearTimeout,la=t.parseFloat,ua=qr.pow,ca=Qr.propertyIsEnumerable,da=qn(t,"Set"),fa=t.setTimeout,pa=Yr.splice,ha=t.Uint8Array,ga=qn(t,"WeakMap"),ma=qr.ceil,va=qn(zr,"create"),_a=qr.floor,ya=qn(Ur,"isArray"),ba=t.isFinite,wa=qn(zr,"keys"),Sa=qr.max,Pa=qr.min,Ca=qn(Br,"now"),Oa=t.parseInt,$a=qr.random,Ia=Vr.NEGATIVE_INFINITY,xa=Vr.POSITIVE_INFINITY,Aa=4294967295,Ta=Aa-1,Ma=Aa>>>1,La=9007199254740991,ka=ga&&new ga,Da={};e.support={};e.templateSettings={escape:Pt,evaluate:Ct,interpolate:Ot,variable:"",imports:{_:e}};var ja=function(){function t(){}return function(e){if(jo(e)){t.prototype=e;var n=new t;t.prototype=I}return n||{}}}(),Fa=fn(Me),Na=fn(Le,!0),Ea=pn(),Ha=pn(!0),Ra=ka?function(t,e){return ka.set(t,e),t}:xr,Ua=ka?function(t){return ka.get(t)}:kr,Ba=We("length"),Wa=function(){var t=0,e=0;return function(n,i){var o=gs(),r=U-(o-e);if(e=o,r>0){if(++t>=R)return n}else t=0;return Ra(n,i)}}(),Ga=_o(function(t,e){return y(t)&&Yn(t)?Pe(t,Ae(e,!1,!0)):[]}),qa=Sn(),Va=Sn(!0),za=_o(function(t){for(var e=t.length,n=e,i=Ur(d),o=Wn(),r=o==s,a=[];n--;){var l=t[n]=Yn(l=t[n])?l:[];i[n]=r&&l.length>=120?gn(n&&l):null}var u=t[0],c=-1,d=u?u.length:0,f=i[0];t:for(;++c<d;)if(l=u[c],(f?Yt(f,l):o(a,l,0))<0){for(var n=e;--n;){var p=i[n];if((p?Yt(p,l):o(t[n],l,0))<0)continue t}f&&f.push(l),a.push(l)}return a}),Ja=_o(function(t,e){e=Ae(e);var n=_e(t,e);return qe(t,e.sort(r)),n}),Ka=Fn(),Xa=Fn(!0),Ya=_o(function(t){return Ze(Ae(t,!1,!0))}),Qa=_o(function(t,e){return Yn(t)?Pe(t,e):[]}),Za=_o(Ni),ts=_o(function(t){var e=t.length,n=e>2?t[e-2]:I,i=e>1?t[e-1]:I;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):I,i=I),t.length=e,Ei(t,n,i)}),es=_o(function(t){return t=Ae(t),this.thru(function(e){return Zt(As(e)?e:[di(e)],t)})}),ns=_o(function(t,e){return _e(t,Ae(e))}),is=cn(function(t,e,n){ea.call(t,n)?++t[n]:t[n]=1}),os=wn(Fa),rs=wn(Na,!0),as=On(ee,Fa),ss=On(ne,Na),ls=cn(function(t,e,n){ea.call(t,n)?t[n].push(e):t[n]=[e]}),us=cn(function(t,e,n){t[n]=e}),cs=_o(function(t,e,n){var i=-1,o="function"==typeof e,r=ti(e),a=Yn(t)?Ur(t.length):[];return Fa(t,function(t){var s=o?e:r&&null!=t?t[e]:I;a[++i]=s?s.apply(t,n):Xn(t,e,n)}),a}),ds=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fs=Mn(ce,Fa),ps=Mn(de,Na),hs=_o(function(t,e){if(null==t)return[];var n=e[2];return n&&Zn(e[0],e[1],n)&&(e.length=1),Ye(t,Ae(e),[])}),gs=Ca||function(){return(new Br).getTime()},ms=_o(function(t,e,n){var i=A;if(n.length){var o=w(n,ms.placeholder);i|=D}return Nn(t,i,e,n,o)}),vs=_o(function(t,e){e=e.length?Ae(e):Yo(t);for(var n=-1,i=e.length;++n<i;){var o=e[n];t[o]=Nn(t[o],A,t)}return t}),_s=_o(function(t,e,n){var i=A|T;if(n.length){var o=w(n,_s.placeholder);i|=D}return Nn(e,i,t,n,o)}),ys=_n(L),bs=_n(k),ws=_o(function(t,e){return Se(t,1,e)}),Ss=_o(function(t,e,n){return Se(t,e,n)}),Ps=Cn(),Cs=Cn(!0),Os=_o(function(t,e){if(e=Ae(e),"function"!=typeof t||!re(e,l))throw new Xr(q);var n=e.length;return _o(function(i){for(var o=Pa(i.length,n);o--;)i[o]=e[o](i[o]);return t.apply(this,i)})}),$s=Tn(D),Is=Tn(j),xs=_o(function(t,e){return Nn(t,N,I,I,I,Ae(e))}),As=ya||function(t){return y(t)&&ni(t.length)&&ia.call(t)==J},Ts=dn(Ue),Ms=dn(function(t,e,n){return n?me(t,e,n):ve(t,e)}),Ls=yn(Ms,he),ks=yn(Ts,ri),Ds=Pn(Me),js=Pn(Le),Fs=$n(Ea),Ns=$n(Ha),Es=In(Me),Hs=In(Le),Rs=wa?function(t){var e=null==t?I:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Yn(t)?ui(t):jo(t)?wa(t):[]}:ui,Us=xn(!0),Bs=xn(),Ws=_o(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=le(Ae(e),Kr);return ai(t,Pe(er(t),e))}var n=an(e[0],e[1],3);return si(t,function(t,e,i){return!n(t,e,i)})}),Gs=_o(function(t,e){return null==t?{}:"function"==typeof e[0]?si(t,an(e[0],e[1],3)):ai(t,Ae(e))}),qs=mn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Vs=mn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),zs=An(),Js=An(!0),Ks=mn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Xs=mn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ys=_o(function(t,e){try{return t.apply(I,e)}catch(t){return Lo(t)?t:new Wr(t)}}),Qs=_o(function(t,e){return function(n){return Xn(n,t,e)}}),Zs=_o(function(t,e){return function(n){return Xn(t,n,e)}}),tl=jn("ceil"),el=jn("floor"),nl=bn(Co,Ia),il=bn(Vo,xa),ol=jn("round");return e.prototype=n.prototype,i.prototype=ja(n.prototype),i.prototype.constructor=i,o.prototype=ja(n.prototype),o.prototype.constructor=o,rt.prototype.delete=Vt,rt.prototype.get=zt,rt.prototype.has=Jt,rt.prototype.set=Kt,Xt.prototype.push=Qt,go.Cache=rt,e.after=co,e.ary=fo,e.assign=Ms,e.at=ns,e.before=po,e.bind=ms,e.bindAll=vs,e.bindKey=_s,e.callback=$r,e.chain=Ui,e.chunk=hi,e.compact=gi,e.constant=Ir,e.countBy=is,e.create=Xo,e.curry=ys,e.curryRight=bs,e.debounce=ho,e.defaults=Ls,e.defaultsDeep=ks,e.defer=ws,e.delay=Ss,e.difference=Ga,e.drop=mi,e.dropRight=vi,e.dropRightWhile=_i,e.dropWhile=yi,e.fill=bi,e.filter=Yi,e.flatten=Si,e.flattenDeep=Pi,e.flow=Ps,e.flowRight=Cs,e.forEach=as,e.forEachRight=ss,e.forIn=Fs,e.forInRight=Ns,e.forOwn=Es,e.forOwnRight=Hs,e.functions=Yo,e.groupBy=ls,e.indexBy=us,e.initial=Oi,e.intersection=za,e.invert=tr,e.invoke=cs,e.keys=Rs,e.keysIn=er,e.map=to,e.mapKeys=Us,e.mapValues=Bs,e.matches=Ar,e.matchesProperty=Tr,e.memoize=go,e.merge=Ts,e.method=Qs,e.methodOf=Zs,e.mixin=Mr,e.modArgs=Os,e.negate=mo,e.omit=Ws,e.once=vo,e.pairs=nr,e.partial=$s,e.partialRight=Is,e.partition=ds,e.pick=Gs,e.pluck=eo,e.property=Dr,e.propertyOf=jr,e.pull=xi,e.pullAt=Ja,e.range=Fr,e.rearg=xs,e.reject=no,e.remove=Ai,e.rest=Ti,e.restParam=_o,e.set=or,e.shuffle=oo,e.slice=Mi,e.sortBy=so,e.sortByAll=hs,e.sortByOrder=lo,e.spread=yo,e.take=Li,e.takeRight=ki,e.takeRightWhile=Di,e.takeWhile=ji,e.tap=Bi,e.throttle=bo,e.thru=Wi,e.times=Nr,e.toArray=Jo,e.toPlainObject=Ko,e.transform=rr,e.union=Ya,e.uniq=Fi,e.unzip=Ni,e.unzipWith=Ei,e.values=ar,e.valuesIn=sr,e.where=uo,e.without=Qa,e.wrap=wo,e.xor=Hi,e.zip=Za,e.zipObject=Ri,e.zipWith=ts,e.backflow=Cs,e.collect=to,e.compose=Cs,e.each=as,e.eachRight=ss,e.extend=Ms,e.iteratee=$r,e.methods=Yo,e.object=Ri,e.select=Yi,e.tail=Ti,e.unique=Fi,Mr(e,e),e.add=Hr,e.attempt=Ys,e.camelCase=qs,e.capitalize=cr,e.ceil=tl,e.clone=So,e.cloneDeep=Po,e.deburr=dr,e.endsWith=fr,e.escape=pr,e.escapeRegExp=hr,e.every=Xi,e.find=os,e.findIndex=qa,e.findKey=Ds,e.findLast=rs,e.findLastIndex=Va,e.findLastKey=js,e.findWhere=Qi,e.first=wi,e.floor=el,e.get=Qo,e.gt=Co,e.gte=Oo,e.has=Zo,e.identity=xr,e.includes=Zi,e.indexOf=Ci,e.inRange=lr,e.isArguments=$o,e.isArray=As,e.isBoolean=Io,e.isDate=xo,e.isElement=Ao,e.isEmpty=To,e.isEqual=Mo,e.isError=Lo,e.isFinite=ko,e.isFunction=Do,e.isMatch=Fo,e.isNaN=No,e.isNative=Eo,e.isNull=Ho,e.isNumber=Ro,e.isObject=jo,e.isPlainObject=Uo,e.isRegExp=Bo,e.isString=Wo,e.isTypedArray=Go,e.isUndefined=qo,e.kebabCase=Vs,e.last=$i,e.lastIndexOf=Ii,e.lt=Vo,e.lte=zo,e.max=nl,e.min=il,e.noConflict=Lr,e.noop=kr,e.now=gs,e.pad=gr,e.padLeft=zs,e.padRight=Js,e.parseInt=mr,e.random=ur,e.reduce=fs,e.reduceRight=ps,e.repeat=vr,e.result=ir,e.round=ol,e.runInContext=$,e.size=ro,e.snakeCase=Ks,e.some=ao,e.sortedIndex=Ka,e.sortedLastIndex=Xa,e.startCase=Xs,e.startsWith=_r,e.sum=Rr,e.template=yr,e.trim=br,e.trimLeft=wr,e.trimRight=Sr,e.trunc=Pr,e.unescape=Cr,e.uniqueId=Er,e.words=Or,e.all=Xi,e.any=ao,e.contains=Zi,e.eq=Mo,e.detect=os,e.foldl=fs,e.foldr=ps,e.head=wi,e.include=Zi,e.inject=fs,Mr(e,function(){var t={};return Me(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.sample=io,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return io(e,t)}):io(this.value())},e.VERSION=x,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){o.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new o(this);n=null==n?1:Sa(_a(n)||0,0);var r=this.clone();return i?r.__takeCount__=Pa(r.__takeCount__,n):r.__views__.push({size:n,type:t+(r.__dir__<0?"Right":"")}),r},o.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=G;o.prototype[t]=function(t,e){var o=this.clone();return o.__iteratees__.push({iteratee:Un(t,e,1),type:n}),o.__filtered__=o.__filtered__||i,o}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");o.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");o.prototype[t]=function(){return this.__filtered__?new o(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?He:Dr;o.prototype[t]=function(t){return this[n](i(t))}}),o.prototype.compact=function(){return this.filter(xr)},o.prototype.reject=function(t,e){return t=Un(t,e,1),this.filter(function(e){return!t(e)})},o.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new o(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==I&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},o.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},o.prototype.toArray=function(){return this.take(xa)},Me(o.prototype,function(t,n){var r=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=e[a?"take"+("last"==n?"Right":""):n];s&&(e.prototype[n]=function(){var e=a?[1]:arguments,n=this.__chain__,l=this.__wrapped__,u=!!this.__actions__.length,c=l instanceof o,d=e[0],f=c||As(l);f&&r&&"function"==typeof d&&1!=d.length&&(c=f=!1);var p=function(t){return a&&n?s(t,1)[0]:s.apply(I,ue([t],e))},h={func:Wi,args:[p],thisArg:I},g=c&&!u;if(a&&!n)return g?(l=l.clone(),l.__actions__.push(h),t.call(l)):s.call(I,this.value())[0];if(!a&&f){l=g?l:new o(this);var m=t.apply(l,e);return m.__actions__.push(h),new i(m,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Zr:Yr)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return o&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),Me(o.prototype,function(t,n){var i=e[n];if(i){var o=i.name,r=Da[o]||(Da[o]=[]);r.push({name:n,func:i})}}),Da[Ln(I,T).name]=[{name:"wrapper",func:I}],o.prototype.clone=b,o.prototype.reverse=Z,o.prototype.value=it,e.prototype.chain=Gi,e.prototype.commit=qi,e.prototype.concat=es,e.prototype.plant=Vi,e.prototype.reverse=zi,e.prototype.toString=Ji,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Ki,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var I,x="3.10.1",A=1,T=2,M=4,L=8,k=16,D=32,j=64,F=128,N=256,E=30,H="...",R=150,U=16,B=200,W=1,G=2,q="Expected a function",V="__lodash_placeholder__",z="[object Arguments]",J="[object Array]",K="[object Boolean]",X="[object Date]",Y="[object Error]",Q="[object Function]",Z="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",it="[object Set]",ot="[object String]",rt="[object WeakMap]",at="[object ArrayBuffer]",st="[object Float32Array]",lt="[object Float64Array]",ut="[object Int8Array]",ct="[object Int16Array]",dt="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",ht="[object Uint16Array]",gt="[object Uint32Array]",mt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,wt=RegExp(yt.source),St=RegExp(bt.source),Pt=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,$t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,It=/^\w*$/,xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,At=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Tt=RegExp(At.source),Mt=/[\u0300-\u036f\ufe20-\ufe23]/g,Lt=/\\(\\)?/g,kt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,jt=/^0[xX]/,Ft=/^\[object .+?Constructor\]$/,Nt=/^\d+$/,Et=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ht=/($^)/,Rt=/['\n\r\u2028\u2029\\]/g,Ut=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Bt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wt=-1,Gt={};Gt[st]=Gt[lt]=Gt[ut]=Gt[ct]=Gt[dt]=Gt[ft]=Gt[pt]=Gt[ht]=Gt[gt]=!0,Gt[z]=Gt[J]=Gt[at]=Gt[K]=Gt[X]=Gt[Y]=Gt[Q]=Gt[Z]=Gt[tt]=Gt[et]=Gt[nt]=Gt[it]=Gt[ot]=Gt[rt]=!1;var qt={};qt[z]=qt[J]=qt[at]=qt[K]=qt[X]=qt[st]=qt[lt]=qt[ut]=qt[ct]=qt[dt]=qt[tt]=qt[et]=qt[nt]=qt[ot]=qt[ft]=qt[pt]=qt[ht]=qt[gt]=!0,qt[Y]=qt[Q]=qt[Z]=qt[it]=qt[rt]=!1;var Vt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Jt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kt={function:!0,object:!0},Xt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qt=Kt[typeof e]&&e&&!e.nodeType&&e,Zt=Kt[typeof t]&&t&&!t.nodeType&&t,te=Qt&&Zt&&"object"==typeof o&&o&&o.Object&&o,ee=Kt[typeof self]&&self&&self.Object&&self,ne=Kt[typeof window]&&window&&window.Object&&window,ie=(Zt&&Zt.exports===Qt&&Qt,te||ne!==(this&&this.window)&&ne||ee||this),oe=$();ie._=oe,i=function(){return oe}.call(e,n,e,t),!(i!==I&&(t.exports=i))}).call(this)}).call(e,n(21)(t),function(){return this}(),n(23))},function(t,e,n){var i;i=function(){function t(t){if($("#cafePlayer_migu_music_crbt").hasClass("on"))f.html('<p class="lyric">彩铃 暂无歌词</p>'),$(".song-info-lyric").scrollbar({barWidth:6});else{if($(".lyric-refresh").hide(),!t)return;var n=e(t);if(!n)return void f.html('<p class="lyric">暂无歌词</p>');var i,o,a,t,s,u=t.replace(/\"/g,""),c=u.replace(/\\r\\n/g,"\\n").split("\n"),d="",p="",h=[];c.length>2?(o=c[0].match(/ti:(.*)]/),a=c[1].match(/ar:(.*)]/),o&&(o='<p class="song">'+o[1]+"</p>"),a&&(a='<p class="singer">'+a[1]+"</p>"),i=document.createElement("div"),i.setAttribute("class","meta"),i.innerHTML=o+a,$.each(n,function(t,e){h.push({time:t,text:e}),d+='<p class="lyric">'+e+"</p>"}),h.length>0&&(h[0].time=0),p=document.createElement("div"),p.setAttribute("id","J_Lyrics"),p.setAttribute("class","lyrics"),p.innerHTML=d,f.html(""),f.append(p),$(".song-info-lyric").scrollbar({barWidth:6}),s=cp.song&&cp.song.position||0,r(s,p,h),l=setInterval(function(){s=cp.song&&cp.song.position||0,r(s,p,h)},300)):"[00:00:00]此歌曲为没有填词的纯音乐，请您欣赏"==c[0]?(f.html('<p class="lyric">此歌曲为没有填词的纯音乐，请您欣赏</p>'),$(".song-info-lyric").scrollbar({barWidth:6})):(f.html('<p class="lyric">暂无歌词</p>'),$(".song-info-lyric").scrollbar({barWidth:6}))}}function e(t){if(!t)return!1;for(var e=t.split("\n"),n={},i=0;i<e.length;i++){var o=e[i],r=/\[\d*:\d*((\.|\:)\d*)*\]/g,a=o.match(r);if(a)for(var s=o.replace(r,""),l=0,u=a.length;l<u;l++){var c=a[l],d=Number(String(c.match(/\[\d*/i)).slice(1)),f=Number(String(c.match(/\:\d*/i)).slice(1)),p=Number(String(c.match(/\.\d*/i))),h=parseInt(1e3*(60*d+f+p));n[h]=s}}return n}function n(){l&&clearInterval(l),f.html(""),f.css("top",0),c=0}function i(t,e){$(".lyric-loading").show(),$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/audioplayer/playurl/"+cp.playlist.items[0].id}).done(function(t){"function"==typeof e&&e(t.dynamicLyric)}).fail(function(){$(".lyric-refresh").show()}).always(function(){$(".lyric-loading").hide()})}function o(t){var e=1e3*t;return e}function r(t,e,n){for(var i=0;i<n.length;i+=1){if(n[i+1]&&n[i].time<=t&&n[i+1].time>t){"lyric on"!==e.children[i].getAttribute("class")&&(a(e,c),e.children[i].setAttribute("class","lyric on"),s(e.children[i])),c=i;break}n[i+1]||("lyric on"!==e.children[i].getAttribute("class")&&(a(e,c),e.children[i].setAttribute("class","lyric on"),s(e.children[i])),c=i)}return t}function a(t,e){t.children[e].setAttribute("class","lyric")}function s(t){var e=d.height()/2-t.offsetTop-t.offsetHeight;if(e<=0){f.stop(!0,!0).animate({top:e+"px"},500);var n=d.find(".scroll-bar-inner"),i=d.height(),o=n.height(),r=-i/f.height()*e;r+o>=i&&(r=i-o),n.css({top:r},100)}else f.stop(!0,!0).animate({top:0},100)}var l,u={},c=0,d=$("#js_Lyrics"),f=d.find(".scroll-content");return u.createLyric=t,u.parseLyric=e,u.resetLyrics=n,u.getLyric=i,$("#lyric_refresh").click(function(){i(cp.playlist.items[0].id,t)}),u.convertToMs=o,u.syncTime=r,u.clearHighlight=a,u.stayCenter=s,u}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e){!function(){soundManager.setup({url:"/swf/",flashVersion:9,preferFlash:!1,debugMode:!1,flashLoadTimeout:0,flashPollingInterval:1e3}),soundManager.ontimeout(function(t){})}()},function(t,e,n){(function(t){var e=(n(15),n(3));t.assign(soundManager.Plugins.prototype,{buildRingTone:function(t,e){var n=this.id,i="cp-play-toolbar cp-inline-element cp-ring",o=$('<button type="button"></button>');$("body");return o.html('<i class="iconfont cf-bofangqi-lingsheng"></i>'),o.attr({id:n+"_ring",class:i,title:"彩铃"}),e.append(o),o.on("click",function(){$(this).attr("mid")&&(MUSIC_CONFIG.IS_FROM_MIGU?window.open(MUSIC_CONFIG.APP_HOST+MUSIC_CONFIG.APP_BASE_PATH+"/music/order/crbt/"+$(this).attr("mid")+"?_from=migu&copyrightId="+$(this).attr("cid")):window.open(MUSIC_CONFIG.APP_HOST+MUSIC_CONFIG.APP_BASE_PATH+"/music/order/crbt/"+$(this).attr("mid")+"?copyrightId="+$(this).attr("cid")))}),o},buildDownload:function(t,e){var n=this.id,i="cp-play-toolbar cp-inline-element cp-download",o=$('<button type="button"></button>');$("body");return o.html('<i class="iconfont cf-bofangqi-xiazai"></i>'),o.attr({id:n+"_download",class:i,title:"下载"}),o.on("click",function(){$(this).attr("mid")&&(MUSIC_CONFIG.IS_FROM_MIGU?window.open(MUSIC_CONFIG.APP_HOST+MUSIC_CONFIG.APP_BASE_PATH+"/music/order/download/"+$(this).attr("mid")+"?_from=migu&copyrightId="+$(this).attr("cid")):window.open(MUSIC_CONFIG.APP_HOST+MUSIC_CONFIG.APP_BASE_PATH+"/music/order/download/"+$(this).attr("mid")+"?copyrightId="+$(this).attr("cid")))}),e.append(o),o},buildShare:function(t,e){var n=this.id,i="cp-play-toolbar cp-inline-element cp-share btn-share",o=$('<button type="button"></button>');$("body");return o.html('<i class="iconfont cf-bofangqi-fenxiang"></i>'),o.attr({id:n+"_share",class:i,title:"分享",showType:1,showPlace:"top"}),e.append(o),o},buildCollect:function(t,e){var n=this.id,i="cp-play-toolbar cp-inline-element cp-collect",o=$('<button type="button"></button>');$("body");return o.html('<i class="iconfont cf-bofangqi-xihuan"></i><i class="iconfont cf-like"></i>'),o.attr({id:n+"_collect",class:i,title:"收藏","data-action":"1"}),e.append(o),o},buildSwitch:function(t,n){var i=this.id,o=$('<div class="cp-switch"></div>');$("body");return o.html('<button type="button" id="'+i+'_gq" class="cp-swtich-gq on">高清</button><button type="button" id="'+i+'_crbt" class="cp-switch-ring">彩铃</button>'),n.append(o),$("#cafePlayer_migu_music_crbt").click(function(){if(t.song&&!$(this).hasClass("on")){var n=t.playlist.items[0].crbtUrl;if("null"!=n){$(".cp-switch button").removeClass("on"),$(this).addClass("on");var i=t.playlist.items[0].url;t.playlist.items[0].url=n,t.playlist.items[0].crbtUrl=i,t.playlist.items[0].isCrbt=!0,t.song.paused&&($("#cafePlayer_migu_music_playpause").addClass("cp-pause").removeClass("cp-play"),$("#cafePlayer_migu_music_playpause").html('<i class="iconfont cf-pause"></i>')),t.unload(t.song),t.play(t.load(t.playlist.items[0],!0)),t.song.setPosition(0)}else e.tip("未找到彩铃播放资源")}}),$("#cafePlayer_migu_music_gq").click(function(){t.song&&!$(this).hasClass("on")&&($(".cp-switch button").removeClass("on"),$(this).addClass("on"),t.unload(t.song),delete t.playlist.items[0].url,delete t.playlist.items[0].isCrbt,t.play(t.load(t.playlist.items[0])),t.song.setPosition(0))}),o}})}).call(e,n(23))},function(t,e,n){var i;(function(o){i=function(){function t(t,e,n,i){$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/songlistsongaction",dataType:"json",type:"post",data:{songIds:t,songListId:e,type:n}}).done(function(t){$(".songlist-item").removeClass("active"),$(".items").removeClass("active"),$(".operate-menu").hide(),l.close(i),"000000"===t.returnCode?l.tip("添加成功"):"100000"===t.returnCode?l.tip("添加歌曲已存在，请勿重复添加"):l.tip(t.returnDesc)}).fail(function(){l.tip("添加失败")})}function e(t,e){c()&&$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/collectsongs",type:"post",dataType:"json",data:{musicArr:t,collectAction:e}}).done(function(t){if(1==e)if(t.success){l.tip("收藏成功！");var n=$("#cafePlayer_migu_music_collect");n.addClass("on")}else l.tip(t.errorDesc||"收藏失败！");else if("000000"===t.returnCode){l.tip("取消收藏成功！");var n=$("#cafePlayer_migu_music_collect");n.toggleClass("on")}else l.tip("操作失败，请稍后再试！")}).fail(function(){l.tip("操作失败，请稍后再试！")})}function i(){var t=[];return $.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/getusersonglist",dataType:"json",async:!1}).done(function(e){var n=e.playLists;$.each(n,function(){var e={songListName:this.playListName,songListId:this.playListId,identityId:this.identityId};t.push(e)})}).fail(function(){}),t}function r(t,e){var n=[];$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/audioplayer/getplayurl",type:"post",data:{songId:t.join(",")}}).done(function(t){$.each(t,function(){var t=this,e={};e.id=t.musicId,e.name=t.musicName,e.singerInfo=t.artistId,e.productId=t.productId,e.albumName=t.albumName,e.albumId=t.albumId,t.copyrightId&&n.push(e)}),a(n)})}function a(t,e){if(e?$(".songlist_more").show():$(".songlist_more").hide(),t.length||d.resetStatus(),cp){var n=[];$(".song-item").each(function(t,e){var i=$(this).data("id")+"";n.push(i)}),cp.del(n),cp.add(t,!0),d.updatePlayerSonglist(),$("#audio_loading").hide()}}var s=n(2),l=n(3),u=(n(9),n(1)),c=n(7),d=n(28),f=n(17),p=document.domain.indexOf("migu.cn")>-1?"migu.cn":document.domain;u.init(),$("#my_songlist").click(function(){var t=$(this);if(c()){$("#toolbar_soglist").empty(),t.parent().toggleClass("on");var e=i(),n="";$.each(e,function(){n+='<li class="play-songlist" data-id="'+this.songListId+'" data-userid="'+this.identityId+'" title="'+this.songListName.replace(/>/g,"&gt;").replace(/</g,"&lt;")+'">'+this.songListName.replace(/>/g,"&gt;").replace(/</g,"&lt;")+"</li>"}),n+='<li class="add-songList">+创建歌单</li>',$("#toolbar_soglist").html(n),$("#toolbar_soglist").slimScroll({height:"258px",width:"120px",alwaysVisible:!0,color:"#919190",opacity:.5,size:"4px"})}}),$(document).click(function(t){"my_songlist"!=$(t.target).attr("id")&&$(".my-songlist").removeClass("on")}),$("#js_add_songlist").click(function(){if(c()){var e=$(".song-item.on"),n=[];cp.playlist.items;if(e.each(function(){var t=$(this),e=t.data("id");n.push(e)}),n.length>0)var o=l.open({container:$("#js_add_list").html(),success:function(){$(".add-songList").data("index",o);var e=$("#songlist_choose"),r=i(),a="";$.each(r,function(){a+='<li data-id="'+this.songListId+'"><label><i class="iconfont cf-dotcicleo"></i><i class="iconfont cf-cicleo"></i></label>'+this.songListName.replace(/>/g,"&gt;").replace(/</g,"&lt;")+"</li>"}),e.html(a),e.find("li").eq(0).addClass("on"),
e.slimScroll({height:"289px",width:"480px",alwaysVisible:!0,color:"#919190",opacity:1,size:"8px",distance:"5px"}),$(".ats-cancle-btn").click(function(){l.close(o)}),$(".t-song-list li").click(function(){$(this).addClass("on").siblings("li").removeClass("on")}),$(".ats-confirm-btn").click(function(){var e=$(".t-song-list li.on").data("id");t(n,e,"add",o)})}});else l.tip("请选择操作的单曲")}}),$(".my-songlist").on("click",".play-songlist",function(){var t=$(this);$("#audio_loading").show(),$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/songlistsong",dataType:"json",data:{userId:t.data("userid"),songListId:t.data("id")},type:"get"}).done(function(e){var n=e.items,i=[];$.each(n,function(){if(this.copyrightMsg&&this.copyrightMsg.hasWalkMan&&this.song.status){var t={name:this.song.musicName,id:this.song.musicId,singerInfo:this.song.artistId,productId:this.copyrightMsg.fullSongProductId,albumId:this.song.albumId,albumName:this.song.albumName};i.push(t)}}),i.length?($(".songlist_more a").attr("href",MUSIC_CONFIG.APP_MY_PATH+"/songlist/"+t.data("id")),a(i,1),$(".tool-btn").removeClass("active"),t.parents(".tool-btn").addClass("active"),$("#js_delete_sel").removeClass("disable"),$("#js_select_song").removeClass("disable")):(l.tip("播放失败，歌单暂无歌曲"),document.cookie="playlist_overlay=1;path=/;domain="+p)}).fail(function(){l.tip("网络错误，请稍后再试"),document.cookie="playlist_overlay=1;path=/;domain="+p})}),$("#listen_record").click(function(){var t=$(this);if(!t.hasClass("active")&&($("#audio_loading").show(),$(".tool-btn").removeClass("active"),t.addClass("active"),$("#js_delete_sel").removeClass("disable"),$("#js_select_song").removeClass("disable"),cp)){var e=[];$(".song-item").each(function(t,n){var i=$(this).data("id")+"";e.push(i)}),cp.del(e),setTimeout(function(){var t=JSON.parse(f.get("temp_playlist"));a(t)},800)}}),$("#collect_songs").click(function(){var t=$(this);c()&&($("#audio_loading").show(),$(".tool-btn").removeClass("active"),t.addClass("active"),$("#js_delete_sel").removeClass("disable"),$("#js_select_song").addClass("disable"),$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/audioplayer/getcollectsong",dataType:"json",type:"get"}).done(function(t){var e=t.items,n=[];$.each(e,function(){if(this.copyrightMsg&&this.copyrightMsg.hasWalkMan&&this.song.status){var t={name:this.song.musicName,id:this.song.musicId,singerInfo:this.song.artistId,productId:this.copyrightMsg.fullSongProductId,albumId:this.song.albumId,albumName:this.song.albumName};n.push(t)}}),n.length?a(n):(l.tip("添加列表为空"),document.cookie="playlist_overlay=1;path=/;domain="+p)}).fail(function(){}))}),$("#casual_listen").click(function(){var t=$(this);t.hasClass("active")||($(".tool-btn").removeClass("active"),t.addClass("active"),$("#js_delete_sel").addClass("disable"),$("#js_select_song").removeClass("disable"),$("#audio_loading").show(),s.getCookie("migu_music_status")?$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/audioplayer/getusercasual",dataType:"json",type:"get"}).done(function(t){var e=t,n=[];$.each(e,function(){this.copyrightMsg&&this.copyrightMsg.hasWalkMan&&this.song.status&&n.push(this.song.musicId)}),r(n)}).fail(function(){}):$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/audioplayer/getcmscasual",dataType:"json",type:"get"}).done(function(t){var e=t.items,n=[];$.each(e,function(){n.push(this.ext.musicId)}),r(n)}).fail(function(){}))}),$("#js_select_song").click(function(){if(!$(this).hasClass("disable")){var t=$(".song-item.on"),n=[],i=cp.playlist.items;t.length&&c()&&t.each(function(){var t=$(this),e=t.data("id"),r=i[o.findIndex(i,"id",e+"")],a=r.name,s=r.productId;r.singerName;n.push({productId:s,musicId:e,musicName:a})}),n.length>0?e(n,"1"):l.tip("请选择操作的单曲")}}),$(".mod-player-ft").on("click","#cafePlayer_migu_music_collect",function(){var t=cp.playlist.items,n=$(this),i=n.attr("mid");if(i&&c()){var r=t[o.findIndex(t,"id",i+"")],a=r.name,s=r.productId,l=(r.singerName,1);n.hasClass("on")&&(l=0);var u=[{productId:s,musicId:i,musicName:a}];e(u,l)}})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(23))},function(t,e,n){var i;(function(o){i=function(){function t(t){window.cp=cafePlayer(t);var n=JSON.parse(g.get("temp_playlist"));if(cp.playlist.storage.set(cp.id,n),n.length)cp.playlist.items=n,f()?cp.add(n):cp.add(n,!0),_.updatePlayerSonglist(),$("#audio_loading").hide();else{var i=v.get("playlist_adding");1!=i&&($("#audio_loading").hide(),document.cookie="playlist_adding=0;path=/;domain="+w)}e(),setInterval(function(){var t=v.get("playlist_change"),e=v.get("playlist_overlay");1==e&&($("#audio_loading").hide(),document.cookie="playlist_overlay=0;path=/;domain="+w),1==t&&(document.cookie="playlist_change=0;path=/;domain="+w,c()),document.cookie="audioplayer_exist=1;path=/;domain="+w},100)}function e(){var t=$("#"+y);return u(t),t}function i(){var t=JSON.parse(cp.playlist.storage.get(cp.id)),e=$("#"+y),n=cp.playlist.items;$(".song-check-all").removeClass("on"),e.empty(),e.html(h(t)),_.afterDelte&&n.length>0&&cp.song&&$("#song-outer-con").find('li[data-id="'+n[0].id+'"]').addClass("song-playing");var i=$(".song-playing").index(),o=i*$(".song-playing").height();return $("#song-list-box").slimScroll({height:"100%",width:"100%",alwaysVisible:!0,color:"#e3e3e2",opacity:.5,scrollTo:o+"px"}),t}function r(){if(cp.playlist.items[0]){var t=$("#"+y),e=cp.playlist.items[0].id,n=t.find('li[data-id="'+e+'"]');n.addClass("song-playing").siblings().removeClass("song-playing")}}function a(){var t=$("#"+y);t.find("li").removeClass("song-playing")}function s(t){cp.playlist.items.length||($("#lyric_con").empty(),$(".song-info-lyric").scrollbar({barWidth:6}))}function l(){b&&clearInterval(b);var t=cp.playlist.items,e=[],n=t[0].singerInfo?t[0].singerInfo.split(","):[];$.each(n,function(){e.push(this.split(":")[1])}),t.length>0&&cp.song&&(document.title="…正在播放 "+t[0].name+(e.length?" - "+e.join(","):""));var i=document.title;b=setInterval(function(){if(t.length>0){var e=i.split("");e.push(e[0]),e.shift(),i=e.join(""),document.title=i}else clearInterval(b),document.title="咪咕音乐"},600)}function u(t){function e(){var t=a.find(".song-item"),e=!0;$(this).hasClass("on")&&(e=!1),t.each(function(){var t=$(this);e?t.addClass("on"):t.removeClass("on")}),n()}function n(){var t=a.find(".song-item"),e=!0;t.each(function(){$(this).hasClass("on")||(e=!1)}),e&&t.length>0?$(".song-check-all").addClass("on"):$(".song-check-all").removeClass("on")}var r=$("#js_delete_sel"),a=$("#song-outer-con"),l=$(".song-ft-toolvar .song-check-all");a.on("dblclick",".song-item",function(t){$(this);if(!$("body").data("disable")){$("body").data("disable",!0),setTimeout(function(){$("body").data("disable",!1)},1200);var e=$(this),n=e.data("id"),i=cp.playlist.items,r=i[o.findIndex(i,"id",n+"")];$(".cp-switch button").removeClass("on"),$("#cafePlayer_migu_music_gq").addClass("on"),cp.add(r,!0,!0)}}),a.on("click",".song-play-action",function(t){var e=$(this);if(!$("body").data("disable")){$("body").data("disable",!0),setTimeout(function(){$("body").data("disable",!1)},1200);var n=e.parents(".song-item"),i=n.data("id"),r=cp.playlist.items,a=r[o.findIndex(r,"id",i+"")];$(".cp-switch button").removeClass("on"),$("#cafePlayer_migu_music_gq").addClass("on"),n.hasClass("song-playing")?cp.plugins.playpause.click():cp.add(a,!0,!0)}}),r.on("click",function(){if(!$(this).hasClass("disable")){var t=$(".song-item.on");if(t.length)var e=m.confirm({container:"确认从播放列表删除选中歌曲？",yes:function(){m.close(e);var r=[];o.each(t,function(t,e){var n=$(t).data("id")+"";r.push(n)}),cp&&(cp.del(r),s("js_Lyrics"),i(),n(),$("#listen_record").hasClass("active")&&g.set("temp_playlist",g.get("playlist#cafePlayer_migu_music")))},cancel:function(){m.close(e)}});else m.tip("请选择操作的单曲")}}),t.on("click",".songlist-delete",function(){var t=$(this).parents(".song-item"),e=m.confirm({container:"确认删除当前歌曲？",yes:function(){m.close(e);var o=t.data("id")+"",r=[];r.push(o),cp&&(cp.del(r),s("js_Lyrics"),i(),n(),$("#listen_record").hasClass("active")&&g.set("temp_playlist",g.get("playlist#cafePlayer_migu_music")))},cancel:function(){m.close(e)}})}),a.on("click",".song-list-edit",function(){var t=$(this);t.parents(".song-item").toggleClass("on"),n()}),a.on("click",".song-check-all",e),l.on("click",e),window.onresize=function(){$("#song-list-box").slimScroll({height:"100%",width:"100%",alwaysVisible:!0,color:"#e3e3e2",opacity:.5}),$(".song-info-lyric").scrollbar({barWidth:6})}}function c(){var t=JSON.parse(localStorage.getItem("store_add_list"));if(document.cookie="playlist_adding=0;path=/;domain="+w,$("#audio_loading").hide(),t.length){var e=t;localStorage.setItem("store_add_list","[]"),1==v.get("add_play_now")?($(".cp-switch button").removeClass("on"),$("#cafePlayer_migu_music_gq").addClass("on"),$("#listen_record").hasClass("active")?f()?cp.add(e):cp.add(e,!0):$("#listen_record").click()):cp.add(e),_.updatePlayerSonglist()}}function d(t){$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/audioplayer/iscollection",type:"GET",data:{musicId:t}}).done(function(t){"1"==t.isCollection?$("#cafePlayer_migu_music_collect").addClass("on"):$("#cafePlayer_migu_music_collect").removeClass("on")})}function f(){var t,e=navigator.userAgent,n=e.indexOf("Safari")!==-1;return!!n&&(t=e.match(/Version\/(\d+)/),null!==t&&(t=Number(t[1]),t>=11?(m.tip("┗|｀O′|┛ 嗷~~，您的浏览器阻止了音乐自动播放，请点击播放按钮进行播放:P",2e3),!0):void 0))}function p(){var t=$("#cafePlayer_migu_music_ring"),e=$("#cafePlayer_migu_music_download"),n=$("#cafePlayer_migu_music_share"),i=$("#cafePlayer_migu_music_collect"),o=$("#cafePlayer_migu_music_gq"),r=$("#cafePlayer_migu_music_crbt"),a=$(".song-info-cover"),s=$("#lyric_con"),l=$(".player-bg"),u=$(".cp-progressbar-bufferslider");t.removeAttr("mid").removeAttr("cid"),e.removeAttr("mid").removeAttr("cid"),n.removeAttr("mid").removeAttr("data-share"),i.removeAttr("mid").removeClass("on"),l.removeAttr("style"),a.find("img").attr("src","/img/img_default_300x300.jpg"),s.empty(),u.width(0),o.addClass("on"),r.removeClass("on")}var h=n(29),g=n(17),m=(n(9),n(3)),v=n(16);n(18);var _={},y="song-list-box",b=null;_.afterDelte=!1,_.initPlayer=t;var w=document.domain.indexOf("migu.cn")>-1?"migu.cn":document.domain;return document.cookie="audioplayer_open=1;path=/;domain="+w,$.jStorage.subscribe("focusAudio",function(t,e){e.status&&(alert("播放器窗口已打开！"),window.focus()),document.cookie="audioplayer_exist=1;path=/;domain="+w}),_.initPlayerSonglist=e,_.updatePlayerSonglist=i,_.addPlayState=r,_.addRemovePlayState=a,_.titleMarquee=l,_.updateChangeList=c,_.isCollection=d,_.resetStatus=p,_}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(23))},function(t,e,n){function i(t){var e,n="",i=t||{};return function(i){n=n+'<li class="song-item-title"><div class="song-check-all"><i class="iconfont cf-square-l not-check"></i><i class="iconfont cf-check-square-l check"></i></div><div class="song-list-songname"><a href="javascript:;">'+o.escape(null==(e="歌曲")?"":e)+'</a></div><div class="song-list-singer"><a href="javascript:;">'+o.escape(null==(e="歌手")?"":e)+'</a></div><div class="song-list-album"><a href="javascript:;">'+o.escape(null==(e="专辑")?"":e)+"</a></div></li>",function(){var r=t;if("number"==typeof r.length)for(var a=0,s=r.length;a<s;a++){var l=r[a];n=n+'<li class="song-item"'+o.attr("data-id",l.id,!0,!0)+'><div class="song-list-edit"><i class="iconfont cf-square-l not-check"></i><i class="iconfont cf-check-square-l check"></i></div>',n=a<9?n+'<div class="song-list-number">'+o.escape(null==(e="0"+(a+1))?"":e)+"</div>":n+'<div class="song-list-number">'+o.escape(null==(e=a+1)?"":e)+"</div>",n=n+'<div class="song-list-songname"><a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/song/"+l.id,!0,!0)+">"+o.escape(null==(e=l.name)?"":e)+'</a></div><div class="song-list-singer">';var u=l.singerInfo?l.singerInfo.split(","):[];(function(){var t=u;if("number"==typeof t.length)for(var r=0,a=t.length;r<a;r++){var s=t[r];if(r<3){var l=s.split(":");n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/artist/"+l[0],!0,!0)+">"+o.escape(null==(e=l[1])?"":e)+"</a>",2!=r&&r!=u.length-1&&(n+=",")}}else{var a=0;for(var r in t){a++;var s=t[r];if(r<3){var l=s.split(":");n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/artist/"+l[0],!0,!0)+">"+o.escape(null==(e=l[1])?"":e)+"</a>",2!=r&&r!=u.length-1&&(n+=",")}}}}).call(this),n+='</div><div class="song-list-album">';var c=l.albumName?l.albumName.split(","):[],d=l.albumId?l.albumId.split(","):[];(function(){var t=c;if("number"==typeof t.length)for(var r=0,a=t.length;r<a;r++){t[r];n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/album/"+d[r],!0,!0)+">"+o.escape(null==(e=c[r])?"":e)+"</a>"}else{var a=0;for(var r in t){a++;t[r];n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/album/"+d[r],!0,!0)+">"+o.escape(null==(e=c[r])?"":e)+"</a>"}}}).call(this),n=n+'</div><div class="song-list-menu"><a class="song-play-action" href="javascript:;" title="播放/暂停"><i class="iconfont cf-play-l menu-blur"></i><i class="iconfont cf-play menu-blur"></i><i class="iconfont cf-zanting menu-focus"></i></a><a class="songlist-add btn-add player-add" href="javascript:;" title="添加到" data-type="1"'+o.attr("data-mid",l.id,!0,!0)+'><i class="iconfont cf-plus" type="slide-action"></i></a><a class="songlist-delete" href="javascript:;" title="删除"><i class="iconfont cf-delete"></i></a></div></li>'}else{var s=0;for(var a in r){s++;var l=r[a];n=n+'<li class="song-item"'+o.attr("data-id",l.id,!0,!0)+'><div class="song-list-edit"><i class="iconfont cf-square-l not-check"></i><i class="iconfont cf-check-square-l check"></i></div>',n=a<9?n+'<div class="song-list-number">'+o.escape(null==(e="0"+(a+1))?"":e)+"</div>":n+'<div class="song-list-number">'+o.escape(null==(e=a+1)?"":e)+"</div>",n=n+'<div class="song-list-songname"><a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/song/"+l.id,!0,!0)+">"+o.escape(null==(e=l.name)?"":e)+'</a></div><div class="song-list-singer">';var u=l.singerInfo?l.singerInfo.split(","):[];(function(){var t=u;if("number"==typeof t.length)for(var r=0,a=t.length;r<a;r++){var s=t[r];if(r<3){var l=s.split(":");n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/artist/"+l[0],!0,!0)+">"+o.escape(null==(e=l[1])?"":e)+"</a>",2!=r&&r!=u.length-1&&(n+=",")}}else{var a=0;for(var r in t){a++;var s=t[r];if(r<3){var l=s.split(":");n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/artist/"+l[0],!0,!0)+">"+o.escape(null==(e=l[1])?"":e)+"</a>",2!=r&&r!=u.length-1&&(n+=",")}}}}).call(this),n+='</div><div class="song-list-album">';var c=l.albumName?l.albumName.split(","):[],d=l.albumId?l.albumId.split(","):[];(function(){var t=c;if("number"==typeof t.length)for(var r=0,a=t.length;r<a;r++){t[r];n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/album/"+d[r],!0,!0)+">"+o.escape(null==(e=c[r])?"":e)+"</a>"}else{var a=0;for(var r in t){a++;t[r];n=n+'<a target="_blank"'+o.attr("href",i.APP_BASE_PATH+"/music/album/"+d[r],!0,!0)+">"+o.escape(null==(e=c[r])?"":e)+"</a>"}}}).call(this),n=n+'</div><div class="song-list-menu"><a class="song-play-action" href="javascript:;" title="播放/暂停"><i class="iconfont cf-play-l menu-blur"></i><i class="iconfont cf-play menu-blur"></i><i class="iconfont cf-zanting menu-focus"></i></a><a class="songlist-add btn-add player-add" href="javascript:;" title="添加到" data-type="1"'+o.attr("data-mid",l.id,!0,!0)+'><i class="iconfont cf-plus" type="slide-action"></i></a><a class="songlist-delete" href="javascript:;" title="删除"><i class="iconfont cf-delete"></i></a></div></li>'}}}.call(this)}.call(this,"MUSIC_CONFIG"in i?i.MUSIC_CONFIG:"undefined"!=typeof MUSIC_CONFIG?MUSIC_CONFIG:void 0),n}var o=n(5);t.exports=i},function(t,e,n){var i;i=function(){function t(){$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/search/hotKey",type:"get",dataType:"json"}).done(function(t){var e="";$.each(t.searchHot.items,function(){var t=this.ext;e+="#"===t.linkPath?'<div class="hot-result"><a href="'+MUSIC_CONFIG.APP_BASE_PATH+"/search?keyword="+t.description+'" target="_blank">'+t.description+"</a></div>":'<div class="hot-result"><a href="'+t.linkPath+'" target="_blank">'+t.description+"</a></div>"}),$(".hot-search-result").html(e)}).fail(function(){})}function e(t){var e=t.searchResult.object,n=$("#search_album"),i=$("#search_song"),o=$("#search_singer");$("#search_mv");if(e.albumList.length){var r="";$.each(e.albumList,function(){r+='<li><a href="'+MUSIC_CONFIG.APP_BASE_PATH+"/music/album/"+this.albumId+'" target="_blank">'+this.albumName+" - "+this.singerName+"</a></li>"}),n.html(r).parents(".search-result-item").show()}else n.parents(".search-result-item").hide();if(e.songList.length){var r="";$.each(e.songList,function(){r+='<li><a href="'+MUSIC_CONFIG.APP_BASE_PATH+"/music/song/"+this.musicId+'" target="_blank">'+this.musicName+" - "+this.artistName+"</a></li>"}),i.html(r).parents(".search-result-item").show()}else i.parents(".search-result-item").hide();if(e.singerList.length){var r="";$.each(e.singerList,function(){r+='<li><a href="'+MUSIC_CONFIG.APP_BASE_PATH+"/music/artist/"+this.artistId+'" target="_blank">'+this.artistName+"</a></li>"}),o.html(r).parents(".search-result-item").show()}else o.parents(".search-result-item").hide()}function n(){i.val()?($(".hot-search").hide(),$(".search-result").show(),$.ajax({url:MUSIC_CONFIG.APP_BASE_PATH+"/async/search",type:"get",dataType:"json",data:{keyword:i.val()}}).done(function(t){e(t)}).fail(function(){})):($(".hot-search").show(),$(".search-result").hide())}var i=$("#search_input"),o=null,r=30;$(".handle-search").click(function(){t(),$(".player-header").addClass("active"),i.focus(),n()}),$(".close-search").click(function(){$(".player-header").removeClass("active"),$(".hot-search").hide(),$(".search-result").hide()}),$(document).click(function(t){"search"!=$(t.target).attr("class")&&"search-list"!=$(t.target).attr("class")&&"handle-search"!=$(t.target).attr("class")&&0==$(t.target).parents(".search").length&&0==$(t.target).parents(".handle-search").length&&0==$(t.target).parents(".search-list").length&&($(".player-header").removeClass("active"),$(".hot-search").hide(),$(".search-result").hide())}),i.on("keyup",function(){window.clearTimeout(o),o=setTimeout(n,r)})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;i=function(){var t=(n(16),n(7)),e=n(2),i=(n(9),window.MUSIC_GLOBAL.musicPlay),o=n(28),r=e.reportUserAction;n(18),$("#song-list-box").slimScroll({height:"100%",width:"100%",alwaysVisible:!0,color:"#919190",opacity:.5,size:"8px"});var a={container:"migu-audio-player",icons:{play:'<i class="iconfont cf-play-o"></i>',pause:'<i class="iconfont cf-pause"></i>',resume:'<i class="iconfont cf-play-o"></i>',prev:'<i class="iconfont cf-pre-o"></i>',next:'<i class="iconfont cf-next-o"></i>',order:'<i class="iconfont cf-order"></i>',repeat:'<i class="iconfont cf-single"></i>',shuffle:'<i class="iconfont cf-random"></i>',volume:'<i class="iconfont cf-volume"></i>',muted:'<i class="iconfont cf-jingyin"></i>'},onfinish:function(){$.each(cp.playlist.items,function(){delete this.isCrbt})},onload:function(){},onpause:function(){o.afterDelte=!1,o.addRemovePlayState()},onplay:function(){o.titleMarquee(),o.afterDelte=!0,o.addPlayState();var e=Number($.jStorage.get("m_vol",50));soundManager.setVolume(e);var n=cp.playlist.items[0],a=n.pic||"";$(".player-bg").css("background-image","url("+a+")"),$(".song-info-cover img").attr("src",n.pic||"/img/img_default_300x300.jpg"),$("#cafePlayer_migu_music_ring").attr("mid",n.id).attr("cid",n.copyrightId),$("#cafePlayer_migu_music_download").attr("mid",n.id).attr("cid",n.copyrightId),$("#cafePlayer_migu_music_share").attr("mid",n.id),$("#cafePlayer_migu_music_collect").attr("mid",n.id);var s=[],l=n.singerInfo?n.singerInfo.split(","):[];$.each(l,function(){var t=this.split(":")[1];s.push(t)});var u={type:"song",title:n.name,linkUrl:MUSIC_CONFIG.APP_BASE_PATH+"/music/song/"+n.id,imgUrl:n.pic,summary:"",singer:s.join(","),album:n.albumName};$("#cafePlayer_migu_music_share").attr("data-share",JSON.stringify(u)),t(!1)&&(o.isCollection(n.id),i.recordListend(n.copyrightId)),r({ruleId:21,actionObjectId:n.id})},onresume:function(){o.addPlayState()}};o.initPlayer(a),soundManager.onready(function(){cp.initPlugins()})}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}]);